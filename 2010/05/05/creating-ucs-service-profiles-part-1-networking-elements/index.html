<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Creating UCS Service Profiles Part 1: Networking Elements - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="Creating UCS Service Profiles Part 1: Networking Elements - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="Creating UCS Service Profiles Part 1: Networking Elements - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2010/05/05/creating-ucs-service-profiles-part-1-networking-elements/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">Creating UCS Service Profiles Part 1: Networking Elements</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 59 May 5055 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/tutorial">Tutorial</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;767 words (estimated 4 minutes to read)</span>
  <p>This article is part 1 of a series of posts that provide some additional information on creating UCS service profiles. In this part of the series, I provide some guidelines on networking-related elements that should be created before you create a UCS service profile. By creating these elements before creating the service profiles or service profile template, the process of creating the service profile or service profile template is a bit smoother.</p>
<p>There are three key networking elements that I recommend defining before you create a UCS service profile:</p>
<ol>
<li>
<p>At least one MAC address pool</p>
</li>
<li>
<p>All the VLANs that need to be visible/accessible within UCS</p>
</li>
<li>
<p>At least one vNIC template</p>
</li>
</ol>
<p>The steps for creating each of these elements, along with their location in UCSM, is found below.</p>
<h2 id="creating-a-mac-address-pool">Creating a MAC Address Pool</h2>
<p><em>Location in UCSM: LAN tab - LAN &gt; Pools &gt; MAC Pools</em><br>
<em>Prerequisites: None</em></p>
<p>Here are the steps for creating a MAC address pool:</p>
<ol>
<li>
<p>Right-click on MAC Pools and select Create MAC Pool.</p>
</li>
<li>
<p>Specify a name and description for the new MAC pool, then click Next.</p>
</li>
<li>
<p>Click Add (with the green plus symbol) to add a new MAC block.</p>
</li>
<li>
<p>Specify the first MAC address and the size of the MAC block. Keep in mind that MAC pools (and the MAC address blocks within them) are not shared across UCSM instances, so be sure to provide a way of distinguishing MAC addresses across multiple UCSM instances. For example, use the fourth hextet to denote a UCSM instance (01 for the first UCSM instance, 02 for the second, etc.). This will help generate unique MAC addresses across multiple UCSM instances.</p>
</li>
<li>
<p>Click OK to add the MAC address block to the MAC pool.</p>
</li>
<li>
<p>Repeat steps 3 through 5, as needed, to add more MAC address blocks to this MAC pool. When the MAC address pool is complete, click Finish to complete the creation of the new MAC pool.</p>
</li>
</ol>
<h2 id="defining-vlans">Defining VLANs</h2>
<p><em>Location in UCSM: LAN tab - LAN &gt; LAN Cloud &gt; VLANs</em><br>
<em>Prerequisites: None</em></p>
<ol>
<li>
<p>Right-click on VLANs and select Create VLAN(s).</p>
</li>
<li>
<p>Specify a descriptive name for the VLAN.</p>
</li>
<li>
<p>Specify whether the VLAN should be global to both UCS fabrics, specific to only one fabric or the other, or if the fabrics should be configured differently for the same VLAN. Generally, VLANs will be configured as Common/Global.</p>
</li>
<li>
<p>Specify the VLAN ID(s) that are associated with this VLAN object in UCSM. Generally, each VLAN object in UCSM should only have a single VLAN ID associated with it. If you enter multiple VLAN IDs (like &ldquo;70-75&rdquo; or &ldquo;21-24,27&rdquo;), UCSM will create separate VLAN objects for each VLAN ID specified. This makes the creation of multiple VLANs a single step.</p>
</li>
<li>
<p>When the dialog box is complete, click OK to create the VLAN object.</p>
</li>
<li>
<p>Repeat this process to create VLAN objects for all VLANs that should be available within this UCSM instance. Use multiple VLAN IDs, as outlined earlier, to streamline the creation of multiple VLANs at the same time.</p>
</li>
</ol>
<h2 id="creating-a-vnic-template">Creating a vNIC Template</h2>
<p><em>Location in UCSM: LAN tab - LAN &gt; Policies &gt; vNIC Templates</em><br>
<em>Prerequisites: MAC address pool, VLANs</em></p>
<ol>
<li>
<p>Right-click on vNIC Templates and select Create vNIC Template.</p>
</li>
<li>
<p>Specify a name and a description for this vNIC template.</p>
</li>
<li>
<p>Select the UCS fabric to which this vNIC template should be associated. Do not select Enable Failover when using VMware ESX/ESXi. Note that you will need to create vNIC templates for both fabrics in dual fabric configurations.</p>
</li>
<li>
<p>Leave all targets selected.</p>
</li>
<li>
<p>Select Updating to make this an updating template. As additional VLANs are added in the future, modifying this template will then automatically modify service profiles created from this template to make the new VLANs available to associated blades.</p>
</li>
<li>
<p>Place a check mark next to each VLAN that should be visible to vNICs created from this vNIC template.</p>
</li>
<li>
<p>Mark one of the selected VLANs as the native VLAN; traffic from this VLAN will be untagged traffic. (In VMware ESX/ESXi, this traffic would require a port group with a blank VLAN ID configured.)</p>
</li>
<li>
<p>Select the MAC address pool created earlier.</p>
</li>
<li>
<p>If necessary, choose values for QoS policy, network control policy, pin group, and stats threshold policy. In general, these values do not need to be set.</p>
</li>
<li>
<p>When the dialog box is complete, click OK to create the vNIC template.</p>
</li>
<li>
<p>If this is a dual fabric installation, repeat this process for the second UCS fabric.</p>
</li>
</ol>
<p>In <a href="/2010/05/07/creating-ucs-service-profiles-part-2-storage-elements/">part 2</a> of the series, I&rsquo;ll provide information on the storage-related elements that I recommend creating before you create a UCS service profile.</p>
<p>If you have any questions or clarifications, please feel free to post them in the comments.</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/cisco">Cisco</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/hardware">Hardware</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/networking">Networking</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/ucs">UCS</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vlan">VLAN</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/virtualization">Virtualization</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2010/05/04/a-collection-of-fcoe-posts/">A Collection of FCoE Posts</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2010/05/07/creating-ucs-service-profiles-part-2-storage-elements/">Creating UCS Service Profiles Part 2: Storage Elements</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2010%2f05%2f05%2fcreating-ucs-service-profiles-part-1-networking-elements%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2010%2f05%2f05%2fcreating-ucs-service-profiles-part-1-networking-elements%2f&text=Creating%20UCS%20Service%20Profiles%20Part%201%3a%20Networking%20Elements" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2010%2f05%2f05%2fcreating-ucs-service-profiles-part-1-networking-elements%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2009/07/27/ucs-training-day-1-wrap-up/">UCS Training, Day 1 Wrap-Up</a> <span class="post-date-list">279 May 272727</span></li><li><a href="/2009/07/27/potential-ucs-issue-northbound-fcoe-connectivity/">Potential UCS Issue: Northbound FCoE Connectivity</a> <span class="post-date-list">279 May 272727</span></li><li><a href="/2009/04/03/a-collection-of-viewpoints-on-cisco-ucs/">A Collection of Viewpoints on Cisco UCS</a> <span class="post-date-list">39 May 3033</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
