<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>New User&#39;s Guide to Symmetrix VMAX Auto Provisioning Groups via CLI, Part 1 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="New User&#39;s Guide to Symmetrix VMAX Auto Provisioning Groups via CLI, Part 1 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="New User&#39;s Guide to Symmetrix VMAX Auto Provisioning Groups via CLI, Part 1 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2010/09/22/new-users-guide-to-symmetrix-vmax-auto-provisioning-groups-via-cli-part-1/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">New User&#39;s Guide to Symmetrix VMAX Auto Provisioning Groups via CLI, Part 1</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 229 May 222222 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/education">Education</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;524 words (estimated 3 minutes to read)</span>
  <p>Readers who also <a href="http://twitter.com/scott_lowe">follow me on Twitter</a> have probably noticed that I&rsquo;ve been in an EMC Symmetrix VMAX training class this week. As part of that class, we&rsquo;ve been working with Auto-Provisioning Groups. For other users who might be new to SYMCLI (the Symmetrix CLI) and Auto-Provisioning Groups (APGs), I thought this &ldquo;new user&rsquo;s guide&rdquo; to APGs via the CLI might be handy. Comments from experienced users are welcome! In future posts, I&rsquo;ll provide some additional commands for modifying and viewing APGs via CLI.</p>
<p>Note that this guide doesn&rsquo;t discuss the requirements for SYMCLI (such as Solutions Enabler) or other prerequisites. I&rsquo;ll likely cover those pieces in future blog posts.</p>
<p>An APG, at its most basic level, consists of four items:</p>
<ol>
<li>
<p>A storage group containing one or more devices or device groups</p>
</li>
<li>
<p>A port group containing one or more front-end director ports</p>
</li>
<li>
<p>An initiator group containing one or more host initiator ports, denoted by their World Wide Port Name (WWPN)</p>
</li>
<li>
<p>A masking view that combines a storage group, a port group, and an initiator group</p>
</li>
</ol>
<p>OK, with that (very) basic introduction out of the way, here are some commands to create an APG from the command line. In all the sample command shared here, replace the less than/greater than symbols and their contents with appropriate values.</p>
<p>To create a storage group, use this command:</p>
<pre><code>symaccess -sid &lt;Symmetrix ID&gt; create -name &lt;Storage group name&gt; -type storage -devs &lt;Device IDs&gt;
</code></pre>
<p>The device IDs are the IDs of the Symmetrix Logical Volumes you created using SYMCLI or Symmetrix Management Console (SMC).</p>
<p>To create a port group containing one or more ports from one or more directors, use this command:</p>
<pre><code>symaccess -sid &lt;Symmetrix ID&gt; create -name &lt;Port group name&gt; -type port -dirports &lt;Director slice:Port number,Director slice:port number...&gt;
</code></pre>
<p>The <em>Director slice:Port number</em> would look something like <code>7e:0</code> for port 0 on director slice 7e (which would be in enclosure 4).</p>
<p>To create an initiator group, I would first recommend that you create a text file containing a list of all the WWPNs for the initiators in the group, like this:</p>
<pre><code>WWN:1234567890abcdef  
WWN:abcdef0123456789  
...
</code></pre>
<p>Once you have the text file created, you can then create an initiator group using this command:</p>
<pre><code>symaccess -sid &lt;Symmetrix ID&gt; create -name &lt;Initiator group name&gt; -type inititator -file &lt;Text file of initiators&gt;
</code></pre>
<p>At this point, you can run <code>symaccess -sid &lt;Symmetrix ID&gt; list</code> and you&rsquo;ll see the storage, port, and initiator groups you just created.</p>
<p>To combine these groups into a masking view, use this command:</p>
<pre><code>symaccess -sid &lt;Symmetrix ID&gt; create view -name &lt;Masking view name&gt; -storgrp &lt;Storage group name&gt; -portgrp &lt;Port group name&gt; -initgrp &lt;Initiator group name&gt;
</code></pre>
<p>This creates the masking view that contains all three objects&mdash;the storage group, the port group, and the initiator group&mdash;and automatically performs the mapping (associating devices with directors) and masking (exposing devices to hosts) operations.</p>
<p>To get more details on the masking view once it is created, use this command:</p>
<pre><code>symaccess -sid &lt;Symmetrix ID&gt; show view &lt;Masking view name&gt;
</code></pre>
<p>The output from this command will show you details on the devices in the storage group, the ports in the port group, and the initiators in the initiator group.</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/cli">CLI</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/emc">EMC</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/storage">Storage</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/symmetrix">Symmetrix</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2010/09/20/trying-to-understand-ospf-summary-routes/">Trying to Understand OSPF Summary Routes</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2010/09/28/technology-short-take-4/">Technology Short Take #4</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2010%2f09%2f22%2fnew-users-guide-to-symmetrix-vmax-auto-provisioning-groups-via-cli-part-1%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2010%2f09%2f22%2fnew-users-guide-to-symmetrix-vmax-auto-provisioning-groups-via-cli-part-1%2f&text=New%20User%27s%20Guide%20to%20Symmetrix%20VMAX%20Auto%20Provisioning%20Groups%20via%20CLI%2c%20Part%201" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2010%2f09%2f22%2fnew-users-guide-to-symmetrix-vmax-auto-provisioning-groups-via-cli-part-1%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2010/05/11/emc-world-2010-symmetrix-vmax-auto-provisioning-groups/">EMC World 2010: Symmetrix VMAX Auto-Provisioning Groups</a> <span class="post-date-list">119 May 111111</span></li><li><a href="/2010/05/10/emc-world-2010-enginuity-5874-enhancements-for-vmax/">EMC World 2010: Enginuity 5874 Enhancements for VMAX</a> <span class="post-date-list">109 May 101010</span></li><li><a href="/2010/08/28/technology-short-take-2/">Technology Short Take #2</a> <span class="post-date-list">289 May 282828</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
