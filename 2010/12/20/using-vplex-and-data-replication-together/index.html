<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Using VPLEX and Data Replication Together - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="Using VPLEX and Data Replication Together - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="Using VPLEX and Data Replication Together - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2010/12/20/using-vplex-and-data-replication-together/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">Using VPLEX and Data Replication Together</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 209 May 202020 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/explanation">Explanation</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;787 words (estimated 4 minutes to read)</span>
  <p>In my previous post on EMC VPLEX, I provided <a href="/2010/12/13/a-quick-review-of-vplex-storage-objects/">a review of the VPLEX storage objects</a>. In that post, I discussed the difference between a storage volume, an extent, a device, and a virtual volume. If you are unclear on the distinctions between those terms, I suggest you go back and read that post again before proceeding.</p>
<p>The following diagram illustrates these various storage objects again:</p>
<p><img src="/public/img/vplex-devices-extents.png" alt="VPLEX storage objects"></p>
<p>As you can see from the diagram, VPLEX offers a number of different ways to combine these objects together:</p>
<ul>
<li>
<p>You can slice a single storage volume into multiple extents, then use each of those extents to create a separate device (and then a virtual volume). The VPLEX device might only occupy one of the extents on the storage volume and other data might occupy other extents on the storage volume. This is the option on the left side of the figure.</p>
</li>
<li>
<p>You can combine extents from different storage volumes together into a single device (and then a virtual volume). This is the option on the right side of the figure.</p>
</li>
<li>
<p>Finally, you can create a single extent occupying all of a storage volume and use it to create a single device. This is the middle option illustrated above and, as you&rsquo;ll see shortly, is the generally recommended way of doing it.</p>
</li>
</ul>
<p>Now that I&rsquo;ve reviewed the storage concepts again, let me delve into the real meat of this post. Since the introduction of EMC VPLEX and its storage federation functionality (which apparently I&rsquo;m not supposed to call storage federation; see the comments <a href="/2010/06/07/a-deeper-look-at-vplex/">here</a>), organizations have another choice in their disaster avoidance/disaster recovery (DA/DR) plans. In addition to utilizing data replication solutions, organizations now have the option of integrating VPLEX&rsquo;s data synchronization functionality into their DA/DR solution. Is there room for VPLEX in an organization&rsquo;s DA/DR planning? The answer is yes! While there has been a great deal of confusion about how, if at all, VPLEX could be used <em>in conjunction with</em> (rather than instead of) existing replication solutions, it is possible and it is fully supported (with a few caveats). This post discusses how you can use both VPLEX and data replication in the same environment.</p>
<p>As a side note, a fair amount of the information in this post is derived from a white paper, published by EMC, on the use of <a href="http://www.emc.com/collateral/hardware/white-papers/h8005-array-based-replication-vplex-wp.pdf">array-based replication with EMC VPLEX</a>. I do encourage you to read that white paper for more information and more details.</p>
<p>So what would a supported configuration that uses both VPLEX and replication look like? This diagram graphically depicts a supported solution that integrates both EMC VPLEX and a data replication solution such as SRDF or RecoverPoint:</p>
<p><img src="/public/img/vplex-repl-topol.png" alt="VPLEX replication topology"></p>
<p>The key to a supported solution that combines VPLEX and replication lies in the phrase &ldquo;single extent/single device&rdquo;. In order to use both replication as well as VPLEX in the same solution, <strong>you must use a 1:1:1 mapping between storage volumes, extents, and devices.</strong> In other words, you must use a &ldquo;single extent/single device&rdquo; approach, where each storage volume has only a single extent (occupying the entire storage volume), and devices are built from that single extent on a single storage volume.</p>
<p>If you think about it for a minute, you can easily see why this is the case. Let&rsquo;s consider a scenario in which you are wishing to combine VPLEX with RecoverPoint:</p>
<ul>
<li>
<p>What is the smallest unit of replication for RecoverPoint? A single LUN. Sure, you can replicate multiple LUNs or groups of LUNs, but the smallest unit of replication is a single LUN. You can&rsquo;t replicate part of a LUN.</p>
</li>
<li>
<p>What is the smallest unit of federation for VPLEX? An extent, which might be part of a back-end storage volume (a LUN). You can federate multiple extents or groups of extents, but you can&rsquo;t federate a part of an extent.</p>
</li>
<li>
<p>How do we get these two units lined up with each other? If RecoverPoint works only on entire LUNs and VPLEX works on extents, then the way to line them up is to ensure that each extent represents an entire LUN. This makes RecoverPoint&rsquo;s basic unit (an entire LUN) the same as VPLEX&rsquo;s basic unit (an entire LUN).</p>
</li>
</ul>
<p>With your replication solution replicating entire LUNs and VPLEX working on entire LUNs, this creates the sort of situation where I/O can pass through VPLEX to the back-end array, where the replication solution can pick it up and replicate it off to a third location. This gives organizations the best of both worlds&mdash;support for disaster avoidance using VPLEX at synchronous distances and support for disaster recovery using a replication solution such as RecoverPoint or SRDF at longer distances.</p>
<p>Your feedback is always welcome! Post any questions, corrections, or clarifications in the comments below.</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/emc">EMC</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/storage">Storage</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vplex">VPLEX</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2010/12/17/technology-short-take-8/">Technology Short Take #8</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2010/12/22/an-introduction-to-the-vplex-cli/">An Introduction to the VPLEX CLI</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2010%2f12%2f20%2fusing-vplex-and-data-replication-together%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2010%2f12%2f20%2fusing-vplex-and-data-replication-together%2f&text=Using%20VPLEX%20and%20Data%20Replication%20Together" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2010%2f12%2f20%2fusing-vplex-and-data-replication-together%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2010/12/13/a-quick-review-of-vplex-storage-objects/">A Quick Review of VPLEX Storage Objects</a> <span class="post-date-list">139 May 131313</span></li><li><a href="/2010/08/03/vplex-webcast/">VPLEX Webcast</a> <span class="post-date-list">39 May 3033</span></li><li><a href="/2010/06/07/a-deeper-look-at-vplex/">A Deeper Look at VPLEX</a> <span class="post-date-list">79 May 7077</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
