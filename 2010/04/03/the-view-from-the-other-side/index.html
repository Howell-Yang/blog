<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>The View from the Other Side - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="The View from the Other Side - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="The View from the Other Side - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2010/04/03/the-view-from-the-other-side/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">The View from the Other Side</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 39 May 3033 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/rant">Rant</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;980 words (estimated 5 minutes to read)</span>
  <p>Steve Chambers at ViewYonder recently published an article <a href="http://viewyonder.com/2010/03/28/dont-be-a-chicken-cram-your-eggs-into-vsphere-on-ucs/">countering the common &ldquo;all my eggs in one basket&rdquo; argument</a> that is so frequently used as an argument against virtualization. Apparently, a comment in my <a href="/2010/03/24/virtualization-short-take-37/">Virtualization Short Take #37</a> post led him to believe that I am not, in his words, &ldquo;fully on board yet&rdquo;. So, I thought it might be helpful to discuss the view from the other side&mdash;from the perspective of those who aren&rsquo;t &ldquo;fully on board yet&rdquo;.</p>
<p>Here&rsquo;s the quote that apparently caught Steve&rsquo;s eye:</p>
<blockquote>
<p>The ages-old discussion of scale up vs. scale out is revisited again in <a href="http://itsjustanotherlayer.com/2010/03/scale-up-or-scale-out%e2%84%a2/">this blog post</a>. I guess the key takeaway for me is the reminder that while VMware HA does restart workloads automatically, there&rsquo;s still an outage. If you&rsquo;re running 50 VMs on a host, you&rsquo;re still going to have an outage across as many as 50 different applications within your organization. That&rsquo;s not a trivial event. I think a lot of people gloss over that detail. VMware HA helps, but it&rsquo;s not the ultimate solution to downtime that people sometimes portray it as.</p>
</blockquote>
<p>Steve&rsquo;s article makes some good points; I particularly agree with his assertion that organizations that were bad at IT before virtualization are going to be really bad after virtualization. However, the underlying sentiment of the article seems to be one of &ldquo;Don&rsquo;t worry, just put all your applications in and everything will be fine&rdquo;. Sorry, I don&rsquo;t agree there. Feel free to put all your eggs in one basket if you prefer, but make sure you understand the value of those eggs and are willing to accept the risks that result.</p>
<p>Let me make something clear: I&rsquo;m not advocating against high consolidation ratios. What I&rsquo;m advocating against is a blind race for higher and higher consolidation ratios simply because you can. Steve&rsquo;s article seems to push for higher consolidation ratios simply for the sake of higher consolidation ratios. I&rsquo;ll use a phrase here that I&rsquo;ve used with my kids many times: &ldquo;Just because you <em>can</em> doesn&rsquo;t mean you <em>should</em>.&rdquo;</p>
<p>Just because you <em>can</em> run 100 workloads on a single server doesn&rsquo;t mean you <em>should</em> run 100 workloads on a single server. Yes, VMware HA will help you mitigate the overall effect of a hardware outage should one occur, but it doesn&rsquo;t change the fact that an outage will occur. Don&rsquo;t rely upon VMware HA as the &ldquo;be all end all&rdquo; solution, because it isn&rsquo;t. Is it good? Yes, it is. Is it good enough for your business when you have very high consolidation ratios? That depends upon your organization and your applications.</p>
<p>I&rsquo;ve always favored a measured, deliberate approach to virtualization that takes into consideration all the various aspects of the workloads that you are virtualizing. In my view, it is critical to understand aspects about applications other than disk I/O requirements, CPU utilization, or memory usage. You need to understand aspects like the relationships between applications (which applications are dependent upon other applications?) and business dependencies upon applications (what parts of my business are affected if this application is unavailable?). Understanding the cost of an application outage is another aspect that must be considered in any virtualization approach. In my opinion, the cost of an application outage is the greatest measurement of <em>impact</em>.</p>
<p>How much will it cost your business if an application is down for 2 minutes? How much will it cost your business if 50 applications are down for 2 minutes? If these aren&rsquo;t mission-critical applications, then fine; throw them all onto a set of servers and rely on VMware HA to restart them automatically. But do so recognizing that in the event of a hardware or hypervisor failure, there <em>will</em> be an outage. Make sure you understand the impact and the scope of that outage.</p>
<p>If, on the other hand, the cost of having these applications unavailable is too high to allow VMware HA to be the sole mechanism whereby you protect yourself against an outage, then it&rsquo;s time to start employing other mechanisms. Other mechanisms would include VMware Fault Tolerance (FT), OS-level clustering, N+1 redundancy (for those applications that support it; many applications don&rsquo;t), or&mdash;here&rsquo;s the kicker&mdash;<strong>deliberately suppressing the overall consolidation ratio in order to limit the scope of an outage.</strong> That&rsquo;s right: you might choose to use a lower consolidation ratio for a certain application or group of applications in order to limit the scope of an outage.</p>
<p>This brings us full circle, back to the &ldquo;scale up vs. scale out&rdquo; argument that started this whole discussion. Just because an organization <em>can</em> buy a full-width UCS blade with 384GB of RAM and run 100 workloads on it doesn&rsquo;t mean they should. A perfectly valid decision would be to deploy a larger number of smaller servers in a &ldquo;scale out&rdquo; fashion so as to limit the scope of an outage. That would go hand-in-hand with the use of other mechanisms like spreading VMware vSphere clusters across multiple chassis to protect against the failure of a single chassis, using VMware FT to protect applications whose downtime cost is too great to rely upon VMware HA alone, or using DRS affinity rules to force workloads onto separate hosts so that the scope of a failure is further constrained. All of these decisions are perfectly valid ways of limiting the scope (and thus the impact) of an outage.</p>
<p>Taken in this context and in this view, you can now see that consolidation ratio is simply another design decision that is made based on both technical and business reasons, and it becomes an aspect of the design that you control, instead of it controlling you. Consolidation ratio becomes just another tool to use in protecting your organization against the impact of a potential outage. Don&rsquo;t shoot for the highest possible consolidation ratio; aim for the right consolidation ratio that meets your organization&rsquo;s needs.</p>
<p>Courteous comments are always welcome!</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/ucs">UCS</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/virtualization">Virtualization</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vmware">VMware</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vsphere">vSphere</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/hardware">Hardware</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2010/03/24/virtualization-short-take-37/">Virtualization Short Take #37</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2010/04/06/congrats-to-the-script-o-mania-winners/">Congrats to the Script-O-Mania Winners</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2010%2f04%2f03%2fthe-view-from-the-other-side%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2010%2f04%2f03%2fthe-view-from-the-other-side%2f&text=The%20View%20from%20the%20Other%20Side" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2010%2f04%2f03%2fthe-view-from-the-other-side%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2009/03/18/cisco-ucs-virtualization-optimized-cnas/">Cisco UCS Virtualization-Optimized CNAs</a> <span class="post-date-list">189 May 181818</span></li><li><a href="/2010/03/24/virtualization-short-take-37/">Virtualization Short Take #37</a> <span class="post-date-list">249 May 242424</span></li><li><a href="/2010/03/02/pxe-booting-vmware-esx-40/">PXE Booting VMware ESX 4.0</a> <span class="post-date-list">29 May 2022</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
