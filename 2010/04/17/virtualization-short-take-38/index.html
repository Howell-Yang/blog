<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Virtualization Short Take #38 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="Virtualization Short Take #38 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="Virtualization Short Take #38 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2010/04/17/virtualization-short-take-38/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">Virtualization Short Take #38</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 179 May 171717 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/information">Information</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;818 words (estimated 4 minutes to read)</span>
  <p>I really should get into the habit of posting these short takes more often! It&rsquo;s been a while since the last Virtualization Short Take and now I have a huge collection of items that I wanted to mention. Anyway, without further ado, here&rsquo;s Virtualization Short Take #38!</p>
<ul>
<li>
<p>If you are looking for some additional information on creating unattended installation scripts for VMware ESX 4.0, be sure to check out <a href="http://ict-freak.nl/2010/03/23/vsphere-unattended-esx4-installation-with-a-ks-cfg-file/">this post</a> from Arne Fokkema. Arne&rsquo;s post on <a href="http://ict-freak.nl/2010/03/30/vsphere-hot-add-or-remove-a-vmdk-with-a-linux-vm/">hot adding or removing a VMDK with a Linux VM</a> is worth a read, too.</p>
</li>
<li>
<p>Similarly, those of you interested in running ESXi on USB should be sure to check out Simon Seagrave&rsquo;s article on <a href="http://www.techhead.co.uk/installing-vmware-esxi-4-0-on-a-usb-memory-stick-the-official-way">the &ldquo;official&rdquo; way</a> to install VMware ESXi 4.0 to a USB stick.</p>
</li>
<li>
<p>Maish has a couple of good posts that I picked up recently. First, he provides some step-by-step instructions on <a href="http://technodrone.blogspot.com/2010/03/inject-vmware-drivers-into-source-os.html">injecting VMware drivers into the source OS</a> before performing a physical-to-virtual (P2V) conversion (here is <a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1005208">the VMware KB article</a> upon which Maish&rsquo;s article is based). Next up is a good article on <a href="http://technodrone.blogspot.com/2010/03/install-emc-powerpathve-with-update.html">installing PowerPath/VE using VMware Update Manager</a> (again, here&rsquo;s the source <a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1018740">VMware KB article</a>).</p>
</li>
<li>
<p>For the ThinApp lovers out there (and what&rsquo;s not to love?), <a href="http://www.thindownload.com/">this site</a> has ThinApped versions of many open source software packages.</p>
</li>
<li>
<p>As is usually the case, Duncan Epping has a number of very informative articles. First, he <a href="http://www.yellow-bricks.com/2010/03/29/cool-new-ha-feature-coming-up-to-prevent-a-split-brain-situation/">lifts the veil</a> on an upcoming feature to assist with VMware HA split brain scenarios. Next up is a great discussion about the virtue of <a href="http://www.yellow-bricks.com/2010/03/30/whats-the-point-of-setting-iops1/">reducing the I/O operations limit</a> (for Round Robin multipathing using vSphere native multipathing) down to 1 (<a href="http://virtualgeek.typepad.com/virtual_geek/2010/03/understanding-more-about-nmp-rr-and-iooperationslimit1.html">more information on this topic</a> from Chad&rsquo;s blog as well). Equally valuable as the article are the comments on the article! Finally Duncan also tackles the concept of <a href="http://www.yellow-bricks.com/2010/04/08/aligning-your-vms-virtual-harddisks/">VM disk alignment</a>, which is not a new issue but it&rsquo;s great to see it getting more attention. Keep up the great work Duncan!</p>
</li>
<li>
<p>Didier Pironet of DeinosCloud has information on <a href="http://deinoscloud.wordpress.com/2010/03/26/increase-number-of-vmware-ha-primaries-how-to/">how to increase the number of VMware HA primary nodes</a> beyond 5. It&rsquo;s <strong>very important</strong> to note that this is an unsupported configuration, but the article does provide a bit of insight on the configuration of VMware HA if nothing else.</p>
</li>
<li>
<p>Gabe brings to light <a href="http://www.gabesvirtualworld.com/bug-in-vmware-ha-admission-control-when-using-dpm/">a potential problem</a> with the interaction between VMware DPM and VMware HA admission control (there&rsquo;s also a <a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1007006">VMware KB article</a> about it). If you run VMware DPM and VMware HA with admission control disabled, be sure to have a look at these two resources for more information.</p>
</li>
<li>
<p>I also came across <a href="http://www.alexfeigenson.com/2010/04/hp-esx-management-agents-wont-uninstall/">this article</a> which describes some undocumented command-line paramters for the <code>esxupdate</code> command. Pretty handy!</p>
</li>
<li>
<p>Jason Boche describes <a href="http://www.boche.net/blog/index.php/2010/04/07/no-failback-bug-in-esxi/">a bug in the ESX(i) failback behavior</a> (or, more appropriately, the no failback behavior) that could have some pretty serious side effects if you&rsquo;re not careful with your design. Jason also has <a href="http://www.boche.net/blog/index.php/2010/03/28/windows-2008-r2-and-windows-7-on-vsphere/">a good post</a> on the manual steps required in order to use the WDDM video driver for Windows 7 and Windows Server 2008 R2.</p>
</li>
<li>
<p>As <a href="http://vinf.net/2010/04/05/installing-vcenter-on-windows-2008-r2-x64-there-is-no-dsn-which-can-be-used/">pointed out here</a>, don&rsquo;t forget to install the SQL Native Client if you&rsquo;re running Windows Server 2008 R2 x64 for your vCenter Server; otherwise, you&rsquo;ll find yourself unable to create a compatible DSN. Note that I think this applies to a few other versions of Windows as well; I know that I&rsquo;ve had to do it a few times.</p>
</li>
<li>
<p><a href="http://bitpushr.wordpress.com/2010/04/02/ballooning-memory-shared-storage-file-io-performance/">This post</a> underscores the need to understand the relationships between all the various components of a VMware vSphere deployment and to understand the impact of various design decisions. The post outlines an issue where IP-based storage is used and memory pressures are forcing storage connectivity issues because of increased utilization of VM swap (which is also stored on the IP storage array). There are also follow up posts <a href="http://bitpushr.wordpress.com/2010/04/02/ballooning-results-are-in/">here</a> and <a href="http://bitpushr.wordpress.com/2010/04/03/conclusion-and-possible-vindication/">here</a> with more information and results from some testing.</p>
</li>
<li>
<p>Microsoft recently released MED-V 1.0 SP1 and localized versions of App-V 4.6, as announced <a href="http://blogs.technet.com/mdop/archive/2010/04/01/med-v-1-0-sp1-rtm-and-localized-versions-of-app-v-4-6-are-now-available.aspx">here</a>.</p>
</li>
<li>
<p>In reviewing the weekly KB digests, I found a few interesting articles:</p>
</li>
</ul>
<p><a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1017423">Changing Parvirtualized SCSI Controller Queue Depth</a></p>
<p><a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1003063">Guide to configure NTP on ESX servers</a></p>
<p><a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1020058">Testing a VMware Fault Tolerance Configuration</a></p>
<p><a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1017520">High rate of Fault Tolerance failovers on Intel Xeon Processor 3400, 6500, and 7500 series</a></p>
<ul>
<li>
<p>Via <a href="http://frankdenneman.nl/2010/03/identify-storage-performance-issues/">this post</a> by Frank Denneman, I learned of <a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1008205">VMware KB article 1008205</a> on how to use <code>esxtop</code> to identify storage performance issues. Also be sure to check out a few of the other links in Frank&rsquo;s article, all of which also provide good information.</p>
</li>
<li>
<p>VMware&rsquo;s competitors love to harp on memory overcommitment, which can&mdash;if used improperly and inappropriately&mdash;have a negative impact on performance. As a result, I was glad to see this post by Scott Drummonds on <a href="http://vpivot.com/2010/03/31/memory-reservations-drive-over-commit/">using memory reservations to drive overcommitment</a> for optimal utilization of memory on your ESX/ESXi hosts. Good post, Scott!</p>
</li>
</ul>
<p>OK, that does it for this time around. As always, feel free to speak up in the comments if you have additional information, links, clarifications, or suggestions.</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/storage">Storage</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/virtualization">Virtualization</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vmware">VMware</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vsphere">vSphere</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2010/04/13/the-everything-vmware-at-emc-community/">The Everything VMware at EMC Community</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2010/04/19/another-collection-of-ucs-posts/">Another Collection of UCS Posts</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2010%2f04%2f17%2fvirtualization-short-take-38%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2010%2f04%2f17%2fvirtualization-short-take-38%2f&text=Virtualization%20Short%20Take%20%2338" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2010%2f04%2f17%2fvirtualization-short-take-38%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2010/02/04/using-ip-based-storage-with-vmware-vsphere-on-cisco-ucs/">Using IP-Based Storage with VMware vSphere on Cisco UCS</a> <span class="post-date-list">49 May 4044</span></li><li><a href="/2010/01/07/virtualization-short-take-33/">Virtualization Short Take #33</a> <span class="post-date-list">79 May 7077</span></li><li><a href="/2009/12/22/virtualization-short-take-32/">Virtualization Short Take #32</a> <span class="post-date-list">229 May 222222</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
