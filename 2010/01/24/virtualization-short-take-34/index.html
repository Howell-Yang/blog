<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Virtualization Short Take #34 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="Virtualization Short Take #34 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="Virtualization Short Take #34 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2010/01/24/virtualization-short-take-34/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">Virtualization Short Take #34</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 249 May 242424 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/information">Information</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;1082 words (estimated 6 minutes to read)</span>
  <p>Welcome to Virtualization Short Take #34, my occasionally-weekly collection of virtualization-related links, posts, and comments. As usual, this information is a hodge-podge of information I&rsquo;ve gathered from across the Internet over the last few weeks. I hope that you find something useful or helpful here, and thanks for reading!</p>
<ul>
<li>
<p>First up is Arne Fokkema&rsquo;s <a href="http://ict-freak.nl/2009/12/15/powercli-check-partition-alignment-windows-vms-only/">PowerCLI script to check Windows VM partition alignment</a>. As one commenter pointed out, the fact that the starting offset isn&rsquo;t 65536&mdash;which is what Arne&rsquo;s script checks&mdash;doesn&rsquo;t necessarily mean that it isn&rsquo;t aligned. Generally, you can align a Windows partition by setting the starting offset to any number that is evenly divisible by 4096 (4K). If I&rsquo;m not mistaken, setting the partition offset to 65536 (64K) also ensures that the partition is stripe-aligned on EMC arrays.</p>
</li>
<li>
<p>Here&rsquo;s <a href="http://blog.webactivedirectory.com/2010/01/16/dont-run-dns-as-a-virtual-machine/">a useful reminder</a> to be sure to keep your dependencies in mind when designing VMware vSphere 4 environments. If you design your environment to rely upon DNS&mdash;a common situation, since VMware HA is particularly sensitive to name resolution&mdash;then be sure to appropriately architect the DNS infrastructure. This &ldquo;circular dependency&rdquo; is one reason why I personally tend to keep vCenter Server on a physical system. Otherwise, you have the virtualization management solution running on the infrastructure it is responsible for managing. (Yes, I know that it&rsquo;s fully supported for it to be virtualized and such.)</p>
</li>
<li>
<p>Forbes Guthrie&rsquo;s article on <a href="http://www.vreference.com/2010/01/14/ad-and-sudo-integratation-in-kickstart/">incorporating Active Directory authentication and sudo into the kickstart process</a> is a good read. With regard to his note about enabling root SSH access because of an inability to access the Active Directory DCs: I know that in ESX 3.x you could <a href="/2008/01/09/local-logins-refused-in-ad-integration-scenarios/">still log in at the Emergency Console</a> when Active Directory connectivity was unavailable; does anyone know if this is still the case with ESX 4.0? I haven&rsquo;t taken the time to test it yet.</p>
</li>
<li>
<p>Oh, and speaking of Active Directory authentication, Forbes also published <a href="http://www.vreference.com/2010/01/20/esx-4-1-to-include-likewise-ad-authentication/">this note</a> about Likewise AD authentication supposedly included in ESX 4.1. Looks like someone at Likewise accidentally spilled the beans&hellip;</p>
</li>
<li>
<p>I&rsquo;m sure that everyone has seen the article by Duncan about the ESX 3.x bug that <a href="http://www.yellow-bricks.com/2010/01/20/nic-teaming-load-balancing-does-not-work-with-global-vswitch-configuration-on-esx-3-5/">prevents NIC teaming load balancing from working on the global vSwitch configuration</a>, but if you haven&rsquo;t&mdash;well, now you have. Here&rsquo;s the <a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1013691">corresponding KB article</a>, also linked from Duncan&rsquo;s article. Duncan also recently published a note about an error while installing vCenter Server that is related to permissions; read it <a href="http://www.yellow-bricks.com/2010/01/22/setup-cannot-create-vcenter-server-directory-services-instance-error-28038/">here</a>.</p>
</li>
<li>
<p>Are there even better days ahead for virtualization and those involved in virtualization? David Greenfield of Network Computing <a href="http://www.networkcomputing.com/virtualization/virtualization-even-better-days-ahead.php">seems to think so</a>. The comments in the article do seem to bear out my statements that virtualization experts now need to move beyond consolidation and start helping customers tackle the Tier 1, high-end applications. I believe that this is going to require more planning, more expertise, and more knowledge of the applications&rsquo; behaviors in order to be successful.</p>
</li>
<li>
<p>Stephen Dion of virtuBLOG brings up <a href="http://virtublog.com/2010/01/24/esx-4-0u1-intel-quad-nic-issue/">a compatibility issue</a> with Intel quad-port Gigabit Ethernet network adapters when used with VMware ESX 4.0 Update 1. Anyone have any updates or additional information on this issue?</p>
</li>
<li>
<p>If you&rsquo;re considering virtualizing Exchange Server 2010 on VMware vSphere, be sure to read Kenneth&rsquo;s article here about <a href="http://kennethvanditmarsch.wordpress.com/2009/11/20/vmotion-and-exchange-2010/">Exchange 2010 DAGs and VMotion</a>. At least live migration isn&rsquo;t supported on Hyper-V, either.</p>
</li>
<li>
<p>Want to run a VM inside a VM? This post on <a href="http://communities.vmware.com/docs/DOC-8970">nested VMs</a> over at the VMware Communities site has some very useful information.</p>
</li>
<li>
<p>Paul Fazzone (who I believe is a product manager for the Nexus 1000V) <a href="http://faz1.com/blog/2010/01/24/nexus-1000v-vs-the-default-vmware-vswitch/">points out</a> a good <a href="http://searchnetworking.techtarget.com.au/articles/38282-VMware-vSwitch-vs-Cisco-Nexus-1-V">point-counterpoint article</a> with Bob Plankers and David Davis that discusses the benefits and drawbacks of the Cisco Nexus 1000V. Both writers make excellent points; I guess the real conclusion is that both options offer value for different audiences. Some organizations will prefer the VMware vSwitch (or Distributed vSwitch); others will find value in the Cisco Nexus 1000V. Choice is a beautiful thing.</p>
</li>
<li>
<p>Jason Boche published <a href="http://www.boche.net/blog/index.php/2010/01/23/vmtn-storage-performance-thread-and-the-emc-celerra-ns-120/">some performance numbers</a> for the EMC Celerra NS-120 that he&rsquo;s recently added to his home &ldquo;lab&rdquo; (I use the term &ldquo;lab&rdquo; rather loosely here, considering the amount of equipment found there). Not surprisingly, Fibre Channel won out over software iSCSI and NFS, but Jason&rsquo;s numbers showed a larger gap than many expected. I may have to repeat these tests myself in the EMC lab in RTP to see what sorts of results I see. If only I still had the NS-960 that I used to have at ePlus&hellip;.sigh.</p>
</li>
<li>
<p>Joep Piscaer has a <a href="http://www.virtuallifestyle.nl/2010/01/recommended-detailed-material-on-rdms/">good post on Raw Device Mappings (RDMs)</a> that definitely worth a read. He&rsquo;s pulled together a good summary of information on RDMs, such as requirements, limitations, use cases, and frequently asked questions. Good job Joep!</p>
</li>
<li>
<p>Ivo Beerens has a pretty detailed post on <a href="http://www.ivobeerens.nl/?p=465">multipathing best practices for VMware vSphere 4 with HP EVA storage</a>. The recommendation is to use Round Robin with ALUA and to reduce the IOPS limit to 1. Ivo also presents a possible workaround to the IOPS &ldquo;random value&rdquo; bug that Chad Sakac discussed <a href="http://virtualgeek.typepad.com/virtual_geek/2009/12/vsphere-4-nmp-rr-iooperationslimit-bug-and-workaround.html">in this post</a> some time ago.</p>
</li>
<li>
<p>Here&rsquo;s yet another great diagram by Hany Michael, this time on <a href="http://www.hypervizor.com/2010/01/diagram-esx-memory-management-and-monitoring-v1-0/">ESX memory management and monitoring</a>.</p>
</li>
<li>
<p>This post tells you <a href="http://www.nileshk.com/vmware-fusion-nat-dhcp-and-port-forwarding">how to modify your VMware Fusion configuration files</a> to assign IP addresses for NAT-configured VMs. If you&rsquo;re familiar with editing <code>dhcpd.conf</code> on a Linux system, the information found here on customizing Fusion should look quite familiar.</p>
</li>
<li>
<p>Back in 2007, I wrote a piece on <a href="/2007/06/22/link-state-tracking-in-blade-deployments/">using link state tracking in blade deployments</a>. This post wasn&rsquo;t necessarily virtualization focused, but certainly quite applicable to virtualization environments. Recently I saw <a href="http://shaw38.wordpress.com/2010/01/22/link-state-tracking-vmware-esx-and-you/">this article</a> pop up on using link state tracking with VMware ESX environments. It&rsquo;s good to see more people recommending this functionality, which I feel is quite useful.</p>
</li>
<li>
<p>Congratulations to Mike Laverick of RTFM, who this past week announced that <a href="http://www.rtfm-ed.co.uk/?p=2062">TechTarget is acquiring RTFM</a> and its author, much like TechTarget acquired BrianMadden.com (and its author) last year. Is this a new trend for technical blog authors&mdash;build up a readership and then &ldquo;sell it off&rdquo; to a digital media company?</p>
</li>
</ul>
<p>Here are some additional links that I stumbled across, but for which I haven&rsquo;t yet fully assimilated or processed. You might see some more in-depth blog posts about these in the near future as they work their way through my consciousness.</p>
<p><a href="http://virtualizationreview.com/articles/2009/03/02/lab-experiment-hypervisors.aspx">Lab Experiment: Hypervisors</a> (Virtualization Review)</p>
<p><a href="http://thebackupblog.typepad.com/thebackupblog/2010/01/avamar-and-vmware-backup-revisited.html">The Backup Blog: Avamar and VMware Backup Revisited</a></p>
<p><a href="http://www.virtualinsanity.com/index.php/2010/01/11/vmware-vsphere-capacity-iq-overview-im-impressed/">VMware vSphere Capacity IQ Overview - I&rsquo;m Impressed!</a></p>
<p>Well, that wraps it up for now. Thanks for reading and feel free to speak out in the comments below.</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/emc">EMC</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/fusion">Fusion</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/hp">HP</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/nexus">Nexus</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/virtualization">Virtualization</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vmware">VMware</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2010/01/19/congrats-to-hyper9/">Congrats to Hyper9</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2010/01/31/emc-celerra-optimizations-for-vmware-on-nfs/">EMC Celerra Optimizations for VMware on NFS</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2010%2f01%2f24%2fvirtualization-short-take-34%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2010%2f01%2f24%2fvirtualization-short-take-34%2f&text=Virtualization%20Short%20Take%20%2334" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2010%2f01%2f24%2fvirtualization-short-take-34%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2009/11/03/a-few-quick-thoughts-on-the-vce-coalition-announcement/">A Few Quick Thoughts on the VCE Coalition Announcement</a> <span class="post-date-list">39 May 3033</span></li><li><a href="/2009/06/05/the-return-of-virtualization-short-takes/">The Return of Virtualization Short Takes</a> <span class="post-date-list">59 May 5055</span></li><li><a href="/2009/05/28/vmware-this-is-wrong/">VMware, This is Wrong</a> <span class="post-date-list">289 May 282828</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
