<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Virtualization Short Take #33 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="Virtualization Short Take #33 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="Virtualization Short Take #33 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2010/01/07/virtualization-short-take-33/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">Virtualization Short Take #33</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 79 May 7077 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/information">Information</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;667 words (estimated 4 minutes to read)</span>
  <p>Welcome to Virtualization Short Take #33, the first installation of the Virtualization Short Take series for 2010! This installation will be a bit lean, but I hope that you find something useful among these nuggets of information.</p>
<ul>
<li>
<p>This <a href="http://kennethvanditmarsch.wordpress.com/2009/12/02/vsphere-freezing-vms-after-deleting-a-volume-from-the-san/">article</a> by Kenneth Van Ditmarsch, backed up by <a href="http://virtualgeek.typepad.com/virtual_geek/2009/12/an-important-vsphere-4-storage-bug-and-workaround.html">this post</a> by Chad Sakac, underscore the need for proper operational documentation for your virtualization environment. Organizations that have taken the time to prepare operational procedures and train their staff on using the documented procedures will, in my opinion, be far less likely to fall victim to this vSphere storage bug. I&rsquo;m not saying you&rsquo;ve got to go crazy on documentation, but take the time to document and validate the core procedures your team is using. I think you&rsquo;ll find the results beneficial.</p>
</li>
<li>
<p>Speaking of vSphere bugs, Chad also <a href="http://virtualgeek.typepad.com/virtual_geek/2009/12/vsphere-4-nmp-rr-iooperationslimit-bug-and-workaround.html">describes a bug</a> affecting vSphere 4 (including Update 1) involving NMP and Round Robin. If you change the I/O Operation Limit for Round Robin (using the esxcli command), you might find that the value gets changed to some random value upon reboot. The workaround is to not modify the I/O Operation Limit (the default value is 1000).</p>
</li>
<li>
<p>Scott Drummonds of VMware has been publishing a great series of articles on host swapping and memory overcommit. The series starts with a <a href="http://vpivot.com/2009/12/23/your-performance-enemy-host-swapping/">discussion on host swapping</a> and the fact that VMware ESX does not track working sets within every VM (it would be too much overhead). He continues with this post on <a href="http://vpivot.com/2009/12/24/solid-state-disks-and-host-swapping/">using SSDs</a> to help alleviate potential host swapping performance concerns (also see <a href="http://communities.vmware.com/blogs/chethank/2009/12/22/using-solidstate-drives-to-improve-performance-of-sql-databases-on-vsphere-hosts-when-memory-is-overcommitted">this article</a> that Scott references in his post). In the last two posts, Scott <a href="http://vpivot.com/2010/01/04/misunderstanding-memory-management/">debunks some misconceptions</a> about memory management and then goes to show why memory overcommit is important in <a href="http://vpivot.com/2010/01/06/optimizing-memory-utilization/">optimizing memory utilization</a>. Definitely some good stuff.</p>
</li>
<li>
<p>The VMware Communities blog post about using SSDs to improve performance when memory is overcommitted (found <a href="http://communities.vmware.com/blogs/chethank/2009/12/22/using-solidstate-drives-to-improve-performance-of-sql-databases-on-vsphere-hosts-when-memory-is-overcommitted">here</a>) put me to thinking. In the tests documented in that post, local SSDs were used. What if EFDs were used instead? I&rsquo;d be curious to know the results. This would support a boot from SAN approach that is more amenable to Cisco UCS model of stateless computing (although I&rsquo;ve said before that I&rsquo;m not entirely sold on stateless computing in a virtualized environment, since the hypervisor negates some of the benefits).</p>
</li>
<li>
<p>There are <em>some</em> areas where the Cisco UCS stateless computing model really shines; Steve Chambers describes one such use case in this post on <a href="http://viewyonder.com/2009/11/19/over-commiting-your-infrastructure-for-multi-tenant-dr-with-cisco-ucs/">multi-tenant DR with Cisco UCS</a>.</p>
</li>
<li>
<p>Here&rsquo;s a <a href="https://supportforums.cisco.com/docs/DOC-6157">useful document</a> on installing VMware ESXi on Cisco UCS using the UCS Manager KVM. Last time I tried the UCS Manager KVM on my Mac, it was barely usable and you couldn&rsquo;t attach media; hopefully it&rsquo;s improved since then.</p>
</li>
<li>
<p>Arnim van Lieshout has a great post on <a href="http://www.van-lieshout.com/2009/11/geographically-dispersed-cluster-design/">geographically dispersed VMware clusters</a>. One thought that occurred to me as I was reading this post was that while Arnim&rsquo;s post was written from the perspective of a production site and a DR site, the same challenges affect the use of external cloud providers and vCloud. As VMware and VMware&rsquo;s partners start to address these challenges, not only does the idea of geographically dispersed clusters start to look more realistic and more flexible, but so too does the idea of leveraging additional capacity from a cloud provider via vCloud.</p>
</li>
<li>
<p>Interested in triggering an ESXi kernel panic on demand? Eric Sloof <a href="http://www.ntpro.nl/blog/archives/1388-Lets-create-some-Kernel-Panic-using-vsish.html">shows you how</a>.</p>
</li>
<li>
<p>Finally, for users with the Nexus 1000V who want to update their ESX/ESXi hosts to Update 1 using the vihostupdate utility, Duncan&rsquo;s <a href="http://www.yellow-bricks.com/2009/11/20/esxi-4-0-esxi-4-0-u1-update/">post</a> (and this <a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1015879">associated VMware KB article</a>) provides all the information necessary to make it work properly.</p>
</li>
</ul>
<p>I did find a couple other useful posts that I haven&rsquo;t had the time to properly read but which look interesting:</p>
<p><a href="http://www.ivobeerens.nl/?p=447">VMware Desktop Reference Architecture Workload Simulator (RAWC)</a></p>
<p><a href="http://www.vmware.com/resources/techresources/10054">White Paper: VMware vSphere 4 Performance with Extreme I/O Workloads</a></p>
<p>That&rsquo;s it for this time around. I welcome all courteous comments or thoughts on any of the links or posts I&rsquo;ve mentioned here. Thanks for reading!</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/cisco">Cisco</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/esxi">ESXi</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/storage">Storage</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/ucs">UCS</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/virtualization">Virtualization</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vmware">VMware</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vsphere">vSphere</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2010/01/05/vmware-zimbra-and-why-im-not-an-analyst/">VMware, Zimbra, and Why I&#39;m Not an Analyst</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2010/01/11/a-couple-geektool-scripts/">A Couple GeekTool Scripts</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2010%2f01%2f07%2fvirtualization-short-take-33%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2010%2f01%2f07%2fvirtualization-short-take-33%2f&text=Virtualization%20Short%20Take%20%2333" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2010%2f01%2f07%2fvirtualization-short-take-33%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2009/11/03/a-few-quick-thoughts-on-the-vce-coalition-announcement/">A Few Quick Thoughts on the VCE Coalition Announcement</a> <span class="post-date-list">39 May 3033</span></li><li><a href="/2009/08/22/planning-for-fcoe-in-your-data-center-today/">Planning for FCoE in Your Data Center Today</a> <span class="post-date-list">229 May 222222</span></li><li><a href="/2009/08/13/getting-qlogic-gen2-cnas-working-with-esx-4/">Getting QLogic Gen2 CNAs Working with ESX 4</a> <span class="post-date-list">139 May 131313</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
