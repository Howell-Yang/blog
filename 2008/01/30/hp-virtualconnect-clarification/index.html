<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>HP VirtualConnect Clarification - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="HP VirtualConnect Clarification - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="HP VirtualConnect Clarification - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2008/01/30/hp-virtualconnect-clarification/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">HP VirtualConnect Clarification</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 309 May 303030 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/explanation">Explanation</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;613 words (estimated 3 minutes to read)</span>
  <p>SearchVMware.com recently published an article of mine about <a href="http://searchvmware.techtarget.com/tip/0,289483,sid179_gci1295274,00.html">using HP VirtualConnect with ESX Server</a> and the impact it has on configuring ESX Server networking. Based on the comments to my <a href="/2008/01/23/new-article-on-hp-virtualconnect/">original post</a> about the article, it appears that I didn&rsquo;t adequately explain the interaction between VirtualConnect&rsquo;s Standard Ethernet Networks and VLAN tagging. I&rsquo;d like to thank those readers that asked about this issue and take a moment to clarify.</p>
<p>Standard Ethernet Networks are defined in the HP VirtualConnect Manager and allow you to control the mapping between physical NIC ports on the blades (the &ldquo;downstream ports&rdquo;) and the connections from the VirtualConnect switches to the external network infrastructure (the &ldquo;upstream ports&rdquo;). For example, I could define a Standard Ethernet Network called &ldquo;Production&rdquo; and specify that Production would uplink either via Slot 2 Port 7 or Slot 2 Port 8.</p>
<p>That part is pretty straightforward. Here&rsquo;s how it plays into VLAN tagging with ESX Server. Most organizations prefer to use VST (Virtual Switch Tagging; described in more detail in <a href="http://searchvmware.techtarget.com/tip/0,289483,sid179_gci1283036,00.html">this article</a>). To use VST, the ports on the network infrastructure must be configured as 802.1Q VLAN trunks so that the external physical switches will pass the VLAN tags to the vSwitches inside ESX Server, where ESX Server can then handle the traffic appropriately.</p>
<p>To use VST with VirtualConnect and Standard Ethernet Networks, there is <em>no difference.</em> The VirtualConnect upstream ports, as defined in the Standard Ethernet Network configuration, must be plugged into physical switch ports that are configured as 802.1Q VLAN trunks. When you plug the upstream port into an 802.1Q VLAN trunk, the downstream port&mdash;the port going to the ESX Server&mdash;automatically becomes an 802.1Q VLAN trunk as well. The VLAN tags will pass all the way to the ESX Server&rsquo;s vSwitches, where ESX Server can deal with the traffic appropriately.</p>
<p>Likewise, if the VirtualConnect&rsquo;s upstream ports are plugged into a static access port&mdash;a port which is not configured as an 802.1Q VLAN trunk but instead carries traffic only for a single VLAN&mdash;then the downstream ports also become static access ports and you are, effectively, using External Switch Tagging (EST).</p>
<p>I stated this in the original article in the third paragraph in the section titled &ldquo;How Virtual Connect differs in ESX&rdquo;:</p>
<blockquote>
<p>In either way, these Ethernet networks will &ldquo;pass through&rdquo; the 802.1Q status of the physical switch port to which it is uplinked. If the physical switch port to which they are connected is configured as an 802.1Q VLAN trunk, then the downstream ports will act as 802.1Q VLAN trunks. Likewise, if the uplink is connected to a switch port that is configured as a static access port, then the downstream ports will act as static access ports.</p>
</blockquote>
<p>Shared Uplink Sets, on the other hand, are different. They don&rsquo;t behave in the same way as Standard Ethernet Networks. With Shared Uplink Sets, you are forced to use EST because the VLAN tags are stripped away at the VirtualConnect level. The associated networks that are defined in VirtualConnect Manager define the different VLANs, and each downstream port is connected to an associated network. Unlike with Standard Ethernet Networks, no VLAN tags are passed up to the ESX Server with Shared Uplink Sets.</p>
<p>So, to summarize:</p>
<ul>
<li>
<p>Standard Ethernet Network uplink connected to external switch port configured as 802.1Q VLAN trunk allows ESX Server to see VLAN tags and supports both VST and Virtual Guest Tagging (VGT)</p>
</li>
<li>
<p>Standard Ethernet Network uplink connected to external switch port configured as static access port only allows EST configuration</p>
</li>
<li>
<p>Shared Uplink Set only allows EST configuration</p>
</li>
</ul>
<p>I hope this clarifies the interaction between HP VirtualConnect and ESX Server networking. I welcome any further questions or clarifications in the comments below. Thanks!</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/hp">HP</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/networking">Networking</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/virtualization">Virtualization</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vlan">VLAN</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vmware">VMware</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2008/01/30/momentum-building-around-xen/">Momentum Building Around Xen</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2008/01/31/new-blog/">New Blog</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2008%2f01%2f30%2fhp-virtualconnect-clarification%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2008%2f01%2f30%2fhp-virtualconnect-clarification%2f&text=HP%20VirtualConnect%20Clarification" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2008%2f01%2f30%2fhp-virtualconnect-clarification%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2007/12/07/new-vlan-article-at-searchvmwarecom/">New VLAN Article at SearchVMware.com</a> <span class="post-date-list">79 May 7077</span></li><li><a href="/2007/11/13/esx-server-and-the-native-vlan/">ESX Server and the Native VLAN</a> <span class="post-date-list">139 May 131313</span></li><li><a href="/2006/12/04/esx-server-nic-teaming-and-vlan-trunking/">ESX Server, NIC Teaming, and VLAN Trunking</a> <span class="post-date-list">49 May 4044</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
