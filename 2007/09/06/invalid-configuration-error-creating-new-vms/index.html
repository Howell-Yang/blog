<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Invalid Configuration Error Creating New VMs - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="Invalid Configuration Error Creating New VMs - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="Invalid Configuration Error Creating New VMs - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2007/09/06/invalid-configuration-error-creating-new-vms/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">Invalid Configuration Error Creating New VMs</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 69 May 6066 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/musing">Musing</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;447 words (estimated 3 minutes to read)</span>
  <p>Earlier today, I was in <a href="http://www.vmware.com/products/vi/vc/">VirtualCenter</a> and needed to create a new virtual machine (VM). As this VM was going to be for purely scratch purposes, I wanted to use some local storage on one of the ESX servers. There was no need for VMotion, or DRS, or HA; it was a non-critical workload. So I right-clicked on the cluster, selected &ldquo;New Virtual Machine&hellip;&rdquo;, and started walking through the wizard to create a new VM. When prompted for storage, I selected a local datastore. Upon the end of the wizard, I clicked Finish, and was promptly greeted with an error message stating:</p>
<pre><code>Invalid configuration for device '4'
</code></pre>
<p>Hmm&hellip;that&rsquo;s not a very helpful error message. Searching the web turned up <a href="http://www.vmware.com/community/message.jspa?messageID=688454">this VMTN discussion forums thread</a>, where apparently others have been running into this same issue. The problem appears to be linked to attempting to create a new VM within a DRS cluster, but selecting storage that is not available to all DRS cluster members (i.e., local storage or SAN storage that has not been presented to all DRS cluster members). If you select storage that all DRS members can see, then the error goes away.</p>
<p>Returning to VirtualCenter, I confirmed that this was indeed the case. Oddly enough, though, the error occurs whenever I select local storage on two of the <a href="http://www.vmware.com/products/vi/esx/">ESX Server</a> hosts, but the error does not occur if I select local storage on the third host in the DRS cluster. All three hosts are running ESX Server 3.0.2 and all three are configured identically (as far as I can tell), but ESX02 works fine while ESX04 and ESX05 cause the error described above.</p>
<p>Even more strangely, right-clicking on a specific host within the DRS cluster and selecting &ldquo;New Virtual Machine&hellip;&rdquo; causes the error as well. I suppose I could see where <a href="http://www.vmware.com/">VMware</a> would say that right-clicking on the DRS cluster itself would generate an error, because you&rsquo;re creating a new VM <em>on the cluster,</em> not on a specific host. But if I right-click on a host, that generally means I want a new VM on that host. Yes, I know that DRS kicks in to optimize the placement of VMs onto hosts during creation as well as during operation, and this is probably what&rsquo;s kicking up the error, but I don&rsquo;t recall seeing this error when running ESX Server 3.0.1 and VirtualCenter 2.0.1 (I&rsquo;m now running ESX Server 3.0.2 and VC 2.0.2).</p>
<p>Is this a bug? Any readers seeing this behavior, and do you have any workarounds or additional information beyond what is being presented in the relevant forums thread? And why does it only seem to affect some DRS cluster members, but not others?</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/esx">ESX</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/storage">Storage</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/virtualization">Virtualization</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vmware">VMware</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2007/09/06/solaris-10-update-4-on-esx-server-2/">Solaris 10 Update 4 on ESX Server</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2007/09/07/new-theme/">New Theme!</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2007%2f09%2f06%2finvalid-configuration-error-creating-new-vms%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2007%2f09%2f06%2finvalid-configuration-error-creating-new-vms%2f&text=Invalid%20Configuration%20Error%20Creating%20New%20VMs" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2007%2f09%2f06%2finvalid-configuration-error-creating-new-vms%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2007/06/29/esx-iscsi-basic-configuration-from-the-cli/">ESX iSCSI Basic Configuration from the CLI</a> <span class="post-date-list">299 May 292929</span></li><li><a href="/2007/06/26/optimizing-iscsi-traffic-with-esx/">Optimizing iSCSI Traffic with ESX</a> <span class="post-date-list">269 May 262626</span></li><li><a href="/2007/03/06/restoring-vcb-full-backups-with-vmware-converter/">Restoring VCB Full Backups with VMware Converter</a> <span class="post-date-list">69 May 6066</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
