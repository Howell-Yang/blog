<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>VDI and Leostream Connection Broker - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="VDI and Leostream Connection Broker - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="VDI and Leostream Connection Broker - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2007/03/23/vdi-and-leostream-connection-broker/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">VDI and Leostream Connection Broker</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 239 May 232323 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/explanation">Explanation</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;735 words (estimated 4 minutes to read)</span>
  <p>For those that aren&rsquo;t familiar with this latest TLA (three-letter acronym), VDI stands for &ldquo;Virtual Desktop Infrastructure&rdquo; and it&rsquo;s an alternate way of utilizing virtualization in the datacenter. Instead of virtualizing server instances, we virtualize desktop instances, and then provide a means for users to connect in to one of these available instances. (You can learn more at VMware&rsquo;s <a href="http://www.vmware.com/solutions/desktop/vdi.html">Virtual Desktop Infrastructure web page</a>.)</p>
<p>VDI isn&rsquo;t a perfect fit in all situations; in some cases, a more &ldquo;traditional&rdquo; approach such as <a href="http://www.citrix.com/English/ps2/products/product.asp?contentID=186&amp;ntref=hp_nav_US">Citrix Presentation Server</a> or <a href="http://www.microsoft.com/windowsserver2003/technologies/terminalservices/default.mspx">Microsoft Windows Terminal Services</a> may be a better fit. However, in some cases, VDI is a good fit. That&rsquo;s the kind of situation I&rsquo;m working in right now, where a customer of mine needs to deploy an application that needs fast access to corporate data, but can&rsquo;t use Citrix (for a variety of reasons). So we&rsquo;re looking at VDI.</p>
<p>Part of any VDI solution is a <em>connection broker.</em> The connection broker, at its most basic level, performs the following tasks:</p>
<ul>
<li>
<p>Accepts incoming connection requests from clients</p>
</li>
<li>
<p>Finds an available hosted desktop</p>
</li>
<li>
<p>Brokers the connection between the client and the available hosted desktop</p>
</li>
</ul>
<p>There are a number of connection brokers (CBs) out there from a variety of vendors. I haven&rsquo;t had the opportunity to use all of them; only <a href="http://www.propero.com/">Propero</a> and <a href="http://www.leostream.com/productVHDC.html">Leostream</a>. I found Propero&rsquo;s product to be much too complicated; it seemed as if the application was really designed for something else and acting as a VDI connection broker was kind of an afterthought. Leostream&rsquo;s product, on the other hand, seems really streamlined and really focused on the CB market. With Leostream&rsquo;s product, I was able to fairly quickly setup and test the following functions:</p>
<ul>
<li>
<p>Integrate CB authentication with Active Directory, so that users authenticated to the CB using their AD username and password</p>
</li>
<li>
<p>Make policy assignments within the Leostream CB based on AD group memberships, so that members of different groups were assigned to different policies</p>
</li>
<li>
<p>Control access to different pools of hosted desktops based on policy assignment</p>
</li>
<li>
<p>Create pools of hosted desktops by assigning &ldquo;tags&rdquo; to them; these tags create pools of hosted desktops by collecting instances with similar characteristics</p>
</li>
<li>
<p>Integrate the CB into <a href="http://www.vmware.com/products/vi/vc/">VirtualCenter</a>, so that the CB could suspend a VM when a user disconnected, then resume the VM when another user needed it</p>
</li>
</ul>
<p>It may be that some of the other CBs out there also work as well as Leostream; I don&rsquo;t know since I haven&rsquo;t had the opportunity to work with all of them (note to vendors: I <strong>will delete</strong> blatant marketing pitches in the comments). I do know that the Leostream product works well thus far.</p>
<p>It took me a little bit of time to get accustomed to how the Leostream broker works (different terminology, I suppose), but once I understood how it works I found it pretty easy to make it do what I wanted it to do. The pieces are all interconnected, though, so allow me to walk through a set of steps in the event you find yourself using the Leostream product in the future.</p>
<p>Let&rsquo;s say you wanted to create a pool of workstations running Windows XP Professional, and you only wanted members of the &ldquo;Hosted XP Users&rdquo; group in Active Directory to have access to that pool of hosted workstations. The process is actually pretty straightforward:</p>
<ol>
<li>
<p>Configure the VC integration, so that the CB can automatically retrieve the list of available VMs from VirtualCenter and import them automatically.</p>
</li>
<li>
<p>Tag the VMs running Windows XP Professional with a tag, such as &ldquo;WinXP&rdquo;.</p>
</li>
<li>
<p>Create a policy, perhaps called &ldquo;WinXP Policy&rdquo;, that defines the pool by selecting all systems with the &ldquo;WinXP&rdquo; tag. (If you wanted further limit the VMs inside that pool, you could add additional tags and use the &ldquo;AND&rdquo; logic to say that all VMs must have all selected tags.)</p>
</li>
<li>
<p>Configure the AD authentication server to assign members of the &ldquo;Hosted XP Users&rdquo; group to the &ldquo;WinXP Policy&rdquo; using the Assignments section of the authentication server configuration.</p>
</li>
</ol>
<p>That&rsquo;s it! When an AD user who is a member of the selected group authenticates to the CB, he or she will automatically be brokered to an available system in the pool of systems with the selected tag(s). Further, since this is WinXP (and of course we selected RDP as our connection protocol), sign-in to the hosted XP desktop is automatic&mdash;the user will not get prompted again for credentials. Cool, eh?</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/activedirectory">ActiveDirectory</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/esx">ESX</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/networking">Networking</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/virtualization">Virtualization</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vmware">VMware</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2007/03/22/sled-integration-into-active-directory/">SLED Integration into Active Directory</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2007/03/27/using-fpk-in-vdi-deployments/">Using FPK in VDI Deployments</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2007%2f03%2f23%2fvdi-and-leostream-connection-broker%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2007%2f03%2f23%2fvdi-and-leostream-connection-broker%2f&text=VDI%20and%20Leostream%20Connection%20Broker" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2007%2f03%2f23%2fvdi-and-leostream-connection-broker%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2007/03/14/virtual-security-concerns/">Virtual Security Concerns</a> <span class="post-date-list">149 May 141414</span></li><li><a href="/2007/01/15/active-directory-integration-index/">Active Directory Integration Index</a> <span class="post-date-list">159 May 151515</span></li><li><a href="/2007/01/09/pending-articles/">Pending Articles</a> <span class="post-date-list">99 May 9099</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
