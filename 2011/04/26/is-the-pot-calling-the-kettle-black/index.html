<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Is the Pot Calling the Kettle Black? - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="Is the Pot Calling the Kettle Black? - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="Is the Pot Calling the Kettle Black? - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2011/04/26/is-the-pot-calling-the-kettle-black/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">Is the Pot Calling the Kettle Black?</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 269 May 262626 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/rant">Rant</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;666 words (estimated 4 minutes to read)</span>
  <p>A recent post by Microsoft on the Windows Virtualization Team Blog titled <a href="http://blogs.technet.com/b/virtualization/archive/2011/04/25/hyper-v-vm-density-vp-lp-ratio-cores-and-threads.aspx">&ldquo;Hyper-V VM Density, VP:LP Ratio, Cores and Threads&rdquo;</a> caught my eye this morning as I was scanning my RSS feeds. In this post, the author (the anonymous WSV_GUY) works through the idea of cores vs. logical processors. The distinction here, in case you didn&rsquo;t already know, is that many modern multi-core CPUs also support symmetric multi-threading (SMT, also referred to as hyperthreading), which means that an eight core CPU can actually process 16 threads simultaneously and would therefore be considered to have 16 logical processors.</p>
<p>&lt;aside&gt;I can see where this might be an area of some confusion; in fact, I was just discussing hyperthreading with a colleague last week. In my opinion, it&rsquo;s far more accurate to refer to current-generation functionality as SMT than hyperthreading, but that&rsquo;s another story for another day.&lt;/aside&gt;</p>
<p>What really caught my eye was the part of the article where the author compares and contrasts Microsoft&rsquo;s approach and others&rsquo; approaches. I&rsquo;ve taken a screenshot here in case the original article changes. Keep in mind that the article is based on the discussion of <em>maximum</em> virtual CPUs (or VPs, as WSV_GUY calls them) per logical CPU:</p>
<p><img src="/public/img/wsv-article-quote.png" alt="Microsoft blog quote"></p>
<p><strong>Figure 1. Screenshot of Microsoft blog post</strong></p>
<p>So, two things pop to mind immediately. Let&rsquo;s take these in order.</p>
<p>First&mdash;since it&rsquo;s fairly obvious that Microsoft is targeting VMware as the primary &ldquo;other virtualization vendor&rdquo;&ndash;it should be noted that VMware does not consistently use cores as their unit of measure. As a point of proof, I present to you this screenshot taken from VMware&rsquo;s Configuration Maximums document for vSphere 4.1 (available in PDF <a href="http://www.vmware.com/pdf/vsphere4/r41/vsp_41_config_max.pdf">here</a>). I&rsquo;ve taken the liberty of highlighting the two key takeaways:</p>
<p><img src="/public/img/vmw-config-max-shot.png" alt="VMware configuration maximums document"></p>
<p><strong>Figure 2. Screenshot of VMware configuration maximums document</strong></p>
<p>As you can see from the documentation, VMware inconsistently switches back and forth from logical CPUs to cores. From that perspective, VMware has some work to do on presenting consistent messaging and consistent documentation. Point taken. VMware, are you listening?</p>
<p>But that&rsquo;s not really my major beef with the article.</p>
<p>The second thing I noted was the statement in the Microsoft blog (see Figure 1) about &ldquo;Vendor A&rdquo; and statements about ratios. Remember that the entire blog post appears to be about maximum ratios: &ldquo;Vendor A response 16:1 (with the qualifier that your mileage will vary)&rdquo;. It seems to me that the author is referring to the statement at the bottom of the VMware configuration maximums document (see Figure 2) that discusses the <em>achievable</em> number of virtual processors per core. However, we&rsquo;re not talking about <em>achievable</em> ratios, we&rsquo;re talking about <em>maximum</em> ratios, right? Or are we?</p>
<p>Although the Microsoft author appears to ding VMware for making a statement about achievable ratios in an article discussing maximum supported ratios, later in the same article the author does the same thing (the emphasis is mine):</p>
<blockquote>
<p>You can see that even with an 8:1 VP to LP ratio (or 16:1 VP: Core, if you prefer), Hyper-V supports very dense VM configurations. Even on a server with two physical processors, Hyper-V supports a staggering number of virtual machines (up to 256). The limiting factor won&rsquo;t be Hyper-V. <strong><em>It will be how much memory you&rsquo;ve populated the server with and how well the storage subsystem performs.</em></strong></p>
</blockquote>
<p>Sounds to me like Microsoft is saying that they have a maximum ratio of virtual CPUs to logical CPUs, but that the actual ratio can you achieve (the <em>achievable</em> ratio?) might be less than that. How is that any different from the statement in VMware&rsquo;s configuration maximums document? How is Microsoft&rsquo;s &ldquo;approach&rdquo; with regard to ratios any different, better, or clearer for the customer? Yes, VMware&rsquo;s documentation is inconsistent. But when it comes to maximum ratios vs. achievable ratios, it seems to me that the pot is calling the kettle black.</p>
<p>If I&rsquo;m off or I&rsquo;m overlooking something, please let me know by speaking up in the comments. Please use full disclosure of your employer where that employment might affect your viewpoint. Thanks!</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/hyperv">HyperV</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/microsoft">Microsoft</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/virtualization">Virtualization</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vmware">VMware</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vsphere">vSphere</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2011/04/20/connecting-cisco-catalyst-2960-s-to-nexus-5010/">Connecting Cisco Catalyst 2960-S to Nexus 5010</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2011/04/27/vmware-esxi-local-disks-showing-as-remote/">VMware ESXi Local Disks Showing as Remote</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2011%2f04%2f26%2fis-the-pot-calling-the-kettle-black%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2011%2f04%2f26%2fis-the-pot-calling-the-kettle-black%2f&text=Is%20the%20Pot%20Calling%20the%20Kettle%20Black%3f" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2011%2f04%2f26%2fis-the-pot-calling-the-kettle-black%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2011/01/27/technology-short-take-10/">Technology Short Take #10</a> <span class="post-date-list">279 May 272727</span></li><li><a href="/2010/11/29/technology-short-take-7/">Technology Short Take #7</a> <span class="post-date-list">299 May 292929</span></li><li><a href="/2010/09/28/technology-short-take-4/">Technology Short Take #4</a> <span class="post-date-list">289 May 282828</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
