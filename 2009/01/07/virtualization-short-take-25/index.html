<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Virtualization Short Take #25 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="Virtualization Short Take #25 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="Virtualization Short Take #25 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2009/01/07/virtualization-short-take-25/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">Virtualization Short Take #25</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 79 May 7077 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/information">Information</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;1212 words (estimated 6 minutes to read)</span>
  <p>Welcome to Virtualization Short Take #25, the first edition of this series for 2009! Here I&rsquo;ve collected a variety of articles and posts that I found interesting or useful. Enjoy!</p>
<ul>
<li>
<p>We&rsquo;ll start off today&rsquo;s list with some Hyper-V links. First up is <a href="http://blogs.msdn.com/robertvi/archive/2008/12/19/howto-manually-add-a-vm-configuration-to-hyper-v.aspx">this article</a> on how to manually add a VM configuration to Hyper-V. It would be interesting to me to know some of the technical details&mdash;i.e., the design decisions that led Microsoft to architect things in this way&mdash;that might explain why this process is, in my opinion, so complicated. Was it scalability? Manageability? If anyone knows, please share your information in the comments.</p>
</li>
<li>
<p>It looks like this post by John Howard on <a href="http://blogs.technet.com/jhoward/archive/2008/12/28/hyper-v-resolving-event-id-4096.aspx">how to resolve event ID 4096 with Hyper-V</a> is also closely related.</p>
</li>
<li>
<p>This blog post brings to light a clause in Microsoft&rsquo;s licensing policy that <a href="http://blogs.vmware.com/virtualreality/2008/12/do-i-really-need-to-upgrade-all-my-windows-server-2003-cals-in-order-to-run-on-windows-hyper-v.html">forces organizations to use Windows Server 2008 CALs</a> when accessing a Windows Server 2003-based VM hosted on Hyper-V. In the spirit of disclosure, it&rsquo;s important to note that this was written by VMware, but an independent organization apparently verified the licensing requirements. So, while you may get Hyper-V at no additional cost (not free) with Windows Server 2008, you&rsquo;ll have to pay to upgrade your CALs to Windows Server 2008 in order to access any Windows Server 2003-based VMs on those Hyper-V hosts. Ouch.</p>
</li>
<li>
<p>Wrapping up this edition&rsquo;s Microsoft virtualization coverage is this post by Ben Armstrong warning Hyper-V users about <a href="http://blogs.msdn.com/virtual_pc_guy/archive/2008/12/15/being-careful-with-physical-disks.aspx">the use of physical disks with VMs</a>. Apparently, it&rsquo;s possible to connect a physical disk to both the Hyper-V parent partition as well as a guest VM, and&hellip;well, bad things can happen when you do that. The unfortunate part is that Hyper-V doesn&rsquo;t block users from doing this very thing.</p>
</li>
<li>
<p>Daniel Feller asks the question, &ldquo;Am I the only one who has trouble understanding Cloud Computing?&rdquo; No, Daniel, you&rsquo;re not the only one&mdash;I&rsquo;ve written before about how amorphous and undefined cloud computing is. In <a href="http://community.citrix.com/pages/viewpage.action?pageId=50364953">this post over at the Citrix Community site</a>, Daniel goes on to indicate that cloud computing&rsquo;s undefined nature is actually its greatest strength:</p>
<blockquote>
<p>As I see it, Cloud Computing is a big white board waiting for organizations to make their requirements known.  Do you want a Test/QA environment to do whatever? This is cloud computing. Do you want someone to deliver office productivity applications for you? That is cloud computing. Do you want to have all of your MP3s stored on an Internet storage repository so you can get to it from any device?  That is also cloud computing.</p>
</blockquote>
<p>Daniel may be right there, but I still insist that there need to be well-defined and well-understood standards around cloud computing in order for cloud computing to really see broad adoption. Perhaps cloud computing is storing my MP3s on the Internet, but what happens when I want to move to a different MP3 storage provider? Without standards, that becomes quite difficult, perhaps even impossible. I&rsquo;m not the only one who thinks this way, either; check <a href="http://gevaperry.typepad.com/main/2008/12/vendor-vision-lockin-in-the-cloud.html">this post by Geva Perry</a>. Until some substance appears in all these clouds, people are going to hold off.</p>
</li>
<li>
<p>Rodney Haywood shared a useful command to use with VMware HA in <a href="http://rodos.haywood.org/2008/12/blade-enclosures-and-ha.html">this post about blades and VMware HA</a>. He points out that it&rsquo;s a good idea to spread VMware HA primary nodes across multiple blade chassis so that the failure of a single chassis does not take down all the primary nodes. One note about the using the <code>ftcli</code> command is that you&rsquo;ll need to set the FT_DIR environment variable first using <code>export FT_DIR=/opt/vmware/aam</code> (assuming you&rsquo;re using bash as the shell on VMware ESX). Otherwise, the advice to spread clusters across chassis as well as to ensure that primary agents are spread across chassis is advice that should be followed.</p>
</li>
<li>
<p>Joshua Townsend has a good post at VMtoday.com about <a href="http://vmtoday.com/2008/12/obtaining-vmware-guest-disk-free-space-for-nfs-sizing/">using PowerShell and SQL queries</a> to determine the amount of free space within guest VMs. As he states in his post, this can often impact the storage design significantly. It seems to me that there used to be a plug-in for vCenter that added this information, but I must be mistaken as I can no longer find it. Oh, and <a href="http://vmware-land.com/Top_10_Lists.html#top10_admin_tools">one of Eric Siebert&rsquo;s top 10 lists</a> also points out a free utility that will provide this information as well.</p>
</li>
<li>
<p>I don&rsquo;t have a record of where this information turned up, but <a href="https://now.netapp.com/Knowledgebase/solutionarea.asp?id=kb41202">this article from NetApp</a> (NOW login required) on troubleshooting NFS performance was quite helpful. In particular, it linked to <a href="http://kb.vmware.com/selfservice/microsites/search.do?cmd=displayKC&amp;docType=kc&amp;externalId=1003710&amp;sliceId=2&amp;docTypeID=DT_KB_1_1&amp;dialogID=7006425&amp;stateId=0%200%202781970">this VMware KB article</a> that provides in-depth information on how to identify IRQ sharing that&rsquo;s occurring between the Service Console and the VMkernel. Good stuff.</p>
</li>
<li>
<p>Want more information on scaling a VMware View installation? Greg Lato posts <a href="http://www.latogalabs.com/2008/12/vmware-view-building-blocks-architecture-guide/">a notice about the VMware View Reference Architecture Kit</a>, available <a href="http://www.vmware.com/resources/wp/view_reference_architecture_register.html">from VMware</a>, that provides more information on some basic &ldquo;building blocks&rdquo; in creating a large-scale View implementation. I&rsquo;ve only had the opportunity to skim through the documents thus far, but I like what I&rsquo;ve seen thus far. Chad also <a href="http://virtualgeek.typepad.com/virtual_geek/2008/12/vmware-view-managercomposer-1000-client-reference-architecture.html">mentions the Reference Architecture Kit on his site</a> as well.</p>
</li>
<li>
<p>Duncan at Yellow Bricks posts yet another useful &ldquo;in the trenches&rdquo; post about <a href="http://www.yellow-bricks.com/2008/12/19/heap-size-vmfs3/">VMFS-3 heap size</a>. If your VMware ESX server is handling more than 4TB of open VMDK files, then it&rsquo;s worth having a look at <a href="http://kb.vmware.com/selfservice/microsites/search.do?cmd=displayKC&amp;docType=kc&amp;externalId=1004424&amp;sliceId=1&amp;docTypeID=DT_KB_1_1&amp;dialogID=11082836&amp;stateId=1%200%2011084649">this VMware KB article</a>.</p>
</li>
<li>
<p>The <a href="http://www.nemertes.com/virtual_routing_antimatter_network_routing">idea of &ldquo;virtual routing&rdquo;</a> is an interesting idea, but I share the thoughts of one of the commenters in that technologies like VMotion/XenMotion/live migration may not be able to respond quickly enough to changing network patterns to be effective. Perhaps it&rsquo;s just my server-centric view showing itself, but it seems more &ldquo;costly&rdquo; (in terms of effort) to move servers around to match traffic flow than to just route the traffic accordingly.</p>
</li>
<li>
<p><a href="http://cuddletech.com/blog/pivot/entry.php?id=999">CrossBow looks quite cool</a>, but I&rsquo;m having a hard time understanding the real business value. I am quite confident that my lack of understanding about CrossBow is simply a reflection of the fact that I don&rsquo;t know enough about Solaris Containers or how Xen handles networking, but can someone help me better understand? What is the huge deal with Crossbow?</p>
</li>
<li>
<p>Jason Boche shares some information with us about <a href="http://www.boche.net/blog/?p=806">how to increase the number of simultaneous VMotion operations</a> per host. That information could be quite handy in some cases.</p>
</li>
<li>
<p>I had high hopes for <a href="http://communities.vmware.com/docs/DOC-9276">this document on VMFS best practices</a>, but it fell short of my hopes. I was looking for hard guidelines on when to use isolation vs. consolidation, strong recommendations on VMFS volume sizes and the number of VMs to host in a VMFS volume, etc. Instead, I got an overview of what VMFS is and how it works&mdash;not what I needed.</p>
</li>
<li>
<p>Users interested in getting started with PowerShell with VMware Infrastructure should have a look at <a href="http://www.vmguru.com/index.php/articles-mainmenu-62/scripting/74-getting-started-with-powershell-and-powergui-in-your-virtual-infrastructure">this article by Scott Herold</a>. It&rsquo;s an excellent place to start.</p>
</li>
<li>
<p>Here&rsquo;s a list of some of the <a href="http://www.techhead.co.uk/10-basic-things-to-do-when-creating-a-microsoft-server-gold-build-for-use-on-vmware-esx-template">basic things you should do</a> on a &ldquo;golden master&rdquo; template for Windows Server VMs. I actually disagree with #15, preferring instead to let Windows manage the time at the guest OS level. The only other thing I&rsquo;d add: be sure your VMDK is aligned to the underlying storage. Otherwise, this is a great checklist to follow.</p>
</li>
</ul>
<p>I think that should just about do it for this post. Comments are welcome!</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/citrix">Citrix</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/esx">ESX</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/hyperv">HyperV</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/microsoft">Microsoft</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/netapp">NetApp</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/nfs">NFS</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/solaris">Solaris</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/virtualization">Virtualization</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vmfs">VMFS</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vmware">VMware</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vmwareha">VMwareHA</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/windows">Windows</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2009/01/06/virtualization-congress-2009-sessions/">Virtualization Congress 2009 Sessions</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2009/01/07/managing-information-flow/">Managing Information Flow</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2009%2f01%2f07%2fvirtualization-short-take-25%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2009%2f01%2f07%2fvirtualization-short-take-25%2f&text=Virtualization%20Short%20Take%20%2325" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2009%2f01%2f07%2fvirtualization-short-take-25%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2008/12/15/youve-got-to-be-kidding-me/">You&#39;ve Got to be Kidding Me</a> <span class="post-date-list">159 May 151515</span></li><li><a href="/2008/11/11/virtualization-short-take-22/">Virtualization Short Take #22</a> <span class="post-date-list">119 May 111111</span></li><li><a href="/2008/10/23/virtualization-short-take-20/">Virtualization Short Take #20</a> <span class="post-date-list">239 May 232323</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
