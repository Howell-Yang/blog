<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Creating a Bootable ESXi USB Stick on Mac OS X - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="Creating a Bootable ESXi USB Stick on Mac OS X - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="Creating a Bootable ESXi USB Stick on Mac OS X - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2009/01/08/creating-a-bootable-esxi-usb-stick-on-mac-os-x/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">Creating a Bootable ESXi USB Stick on Mac OS X</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 89 May 8088 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/tutorial">Tutorial</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;490 words (estimated 3 minutes to read)</span>
  <p>I recently found myself with a decent HP DL385 G2 server with no hard drives (it <em>used</em> to have hard drives, but now it doesn&rsquo;t&hellip;there&rsquo;s a long story behind it that I won&rsquo;t get into here). So, I decided I&rsquo;d try creating a bootable ESXi USB flash drive to use with the server. There are lots of guides out there for creating bootable ESXi USB flash drives, but none of them were written for users, like myself, who use Mac OS X. Telling a Mac user to use WinImage just doesn&rsquo;t work, and while Linux-oriented guides are closer, they still don&rsquo;t address any Mac-specific issues.</p>
<p>So, here&rsquo;s my guide for creating a bootable ESXi USB flash drive from Mac OS X.</p>
<ol>
<li>
<p>Download the ESXi installable ISO.</p>
</li>
<li>
<p>Double-click the ISO to mount it (an icon will appear on your desktop). From there, navigate the contents of the ISO image to find <code>VMware-VMvisor-big-3.5.0-xxxx.i386.dd.bz2</code> and copy it out of the ISO image into a separate folder.</p>
</li>
<li>
<p>Insert the USB flash drive into an available USB port. Mac OS X will mount the drive and an icon will appear on your desktop.</p>
</li>
<li>
<p>Open the Terminal and type <code>diskutil list</code> to list the available drives. On my system, the USB drive was listed as <code>/dev/disk1</code>, but your mileage may vary. It should be pretty easy to tell which device is the USB drive, as the first partition (i.e., <code>/dev/disk1s1</code>) will have a label that matches the name of the icon on the desktop.</p>
</li>
<li>
<p>Unmount the USB drive by typing <code>diskutil unmountDisk /dev/disk1</code>. Replace <code>/dev/disk1</code> in the command above with the appropriate entry for your system, as identified in the previous step. The icon for the USB flash drive will disappear from your desktop.</p>
</li>
<li>
<p>Write the image to the USB drive with the command <code>bzcat &lt;path to VMware-VMvisor file&gt; | dd of=/dev/disk1</code>. Replace <code>/dev/disk1</code> in the command above with the appropriate entry for your system, as identified by the <code>diskutil list</code> command in step 4.</p>
</li>
</ol>
<p>When the process completes&mdash;you&rsquo;ll know because the Terminal prompt will return&mdash;use this command to &ldquo;eject&rdquo; the USB flash drive and make it safe for physical removal:</p>
<pre><code>diskutil eject /dev/disk1
</code></pre>
<p>Again, replace <code>/dev/disk1</code> with the appropriate device for your system.</p>
<p>At this point, the USB flash drive should be ready to roll. Insert it into a compatible server and virtualize away!</p>
<p>In the process of creating this guide, I found the following sites to be extremely helpful:</p>
<p><a href="http://blog.mechanised.com/2008/07/how-to-create-your-own-bootable-esxi.html">mechanised.com: How to Create Your Own Bootable ESXi USB Stick</a></p>
<p><a href="http://www.bergek.com/2008/10/28/create-iso-on-mac-os-x-104/">Create ISO on Mac OS X 10.4 | Martin Bergek</a></p>
<p><a href="http://kuparinen.org/martti/comp/vmware/esxionusb.html">Installing VMware ESXi on a USB memory stick using Ubuntu</a></p>
<p>For Mac users, the special sauce is the <code>diskutil</code> command. Unmounting the USB drive from the Finder also made the underlying BSD device, i.e., <code>/dev/disk1</code>, disappear. Without unmounting it in Finder, the device is reported as &ldquo;busy&rdquo; and can&rsquo;t be accessed (even via root). By using <code>diskutil</code>, we are able to make the device accessible.</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/esxi">ESXi</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/macos">macOS</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/virtualization">Virtualization</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vmware">VMware</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2009/01/08/windows-server-2008-r2-public-beta/">Windows Server 2008 R2 Public Beta</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2009/01/08/my-ubuntu-mac-article-is-popular-i-guess/">My Ubuntu-Mac Article is Popular, I Guess</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2009%2f01%2f08%2fcreating-a-bootable-esxi-usb-stick-on-mac-os-x%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2009%2f01%2f08%2fcreating-a-bootable-esxi-usb-stick-on-mac-os-x%2f&text=Creating%20a%20Bootable%20ESXi%20USB%20Stick%20on%20Mac%20OS%20X" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2009%2f01%2f08%2fcreating-a-bootable-esxi-usb-stick-on-mac-os-x%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2008/12/23/random-reboots-with-vmware-esx-35-update-3/">Random Reboots with VMware ESX 3.5 Update 3</a> <span class="post-date-list">239 May 232323</span></li><li><a href="/2008/12/22/free-veeam-monitor/">Free Veeam Monitor</a> <span class="post-date-list">229 May 222222</span></li><li><a href="/2008/12/12/vmware-ha-problem-with-update-3/">VMware HA Problem with Update 3</a> <span class="post-date-list">129 May 121212</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
