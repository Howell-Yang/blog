<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>New User&#39;s Guide to Configuring Cisco MDS Zones via CLI - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="New User&#39;s Guide to Configuring Cisco MDS Zones via CLI - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="New User&#39;s Guide to Configuring Cisco MDS Zones via CLI - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2009/08/24/new-users-guide-to-configuring-cisco-mds-zones-via-cli/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">New User&#39;s Guide to Configuring Cisco MDS Zones via CLI</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 249 May 242424 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/education">Education</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;473 words (estimated 3 minutes to read)</span>
  <p>I&rsquo;m a bit new to the Cisco MDS family of Fibre Channel switches, so I&rsquo;m sure that this information is &ldquo;old hat&rdquo; to the storage pros out there who&rsquo;ve done it a million times. Hence, I&rsquo;m labeling this one as a &ldquo;new user&rdquo; article. The topic of this post is how to use the command-line interface (CLI) to configure zones on a Cisco MDS 9000 series Fibre Channel switch.</p>
<p>I won&rsquo;t go into great detail on the purpose of zones and that sort of thing; I&rsquo;m sure it&rsquo;s been covered in excruciating detail elsewhere. (Knowledgeable readers with any links to that sort of information are encouraged to share those links in the comments.) Instead, I&rsquo;ll just focus on the mechanics of how it&rsquo;s done.</p>
<p>First, create some aliases for your own use instead of having to remember the Fibre Channel World Wide Port Names (WWPNs). This will make life a <em>lot</em> easier, in my opinion. You create aliases using the <code>fcalias</code> command, like this (where applicable in this command and all other commands in this post, replace <code>_XXX_</code> with the appropriate VSAN number):</p>
<pre><code>switch(config)# fcalias name stor-array-processor-a vsan _XXX_  
switch(config-fcalias)# member pwwn _AA:BB:CC:DD:EE:FF:00:11_  
switch(config-fclias)# exit  
switch(config)#
</code></pre>
<p>Obviously, you&rsquo;ll replace the fake WWPN I used in the command above with the correct WWPN for that device. Repeat this process for all the storage processor ports, server HBAs, etc. From this point forward, you can use the alias in place of the WWPN when creating zones. See, isn&rsquo;t that easier?</p>
<p>Next, create zones. Each zone should have a single initiator and (ideally) a single target, although multiple targets is usually acceptable. To create a zone, use the <code>zone</code> and <code>member</code> commands like this:</p>
<pre><code>switch(config)# zone name first-new-zone vsan _XXX_  
switch(config-zone)# member fcalias stor-array-processor-a  
switch(config-zone)# member fcalias server-hba  
switch(config-zone)# exit  
switch(config)#
</code></pre>
<p>Since each zone contains only a single initiator, you&rsquo;ll need to repeat this process for each initiator.</p>
<p>Once you have all the zones created, next create a zoneset. You can create a new zoneset just using the <code>zoneset</code> command, or you can clone an existing zoneset with the <code>zoneset clone</code> command. In this case, I&rsquo;ll clone an existing zoneset:</p>
<pre><code>switch(config)# zoneset clone existing-zoneset new-zoneset vsan _XXX_
</code></pre>
<p>From here, you have a copy of the existing zoneset, which already had all the previously defined zones as members. Add the new zones you&rsquo;ve defined to the zoneset like this:</p>
<pre><code>switch(config)# zoneset new-zoneset vsan _XXX_  
switch(config-zoneset)# member first-new-zone  
switch(config-zoneset)# member second-new-zone  
switch(config-zoneset)# exit
</code></pre>
<p>Finally, activate the zoneset:</p>
<pre><code>switch(config)# zoneset activate name new-zoneset vsan _XXX_
</code></pre>
<p>Then save the configuration with <code>copy runn start</code> and you should be good to go! All you need to do now is configure and present storage from the storage array to the initiators. But that&rsquo;s another topic for another post&hellip;</p>
<p><strong>UPDATE:</strong> I&rsquo;ve posted a follow-up to this article on <a href="/2009/10/20/new-users-guide-to-managing-cisco-mds-zones-via-cli/">managing zones via the CLI</a>.</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/cisco">Cisco</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/fibrechannel">FibreChannel</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/networking">Networking</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/storage">Storage</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2009/08/24/hytrust-appliance-15/">HyTrust Appliance 1.5</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2009/08/27/connecting-nexus-5000-to-older-gigabit-ethernet-switches/">Connecting Nexus 5000 to Older Gigabit Ethernet Switches</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2009%2f08%2f24%2fnew-users-guide-to-configuring-cisco-mds-zones-via-cli%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2009%2f08%2f24%2fnew-users-guide-to-configuring-cisco-mds-zones-via-cli%2f&text=New%20User%27s%20Guide%20to%20Configuring%20Cisco%20MDS%20Zones%20via%20CLI" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2009%2f08%2f24%2fnew-users-guide-to-configuring-cisco-mds-zones-via-cli%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2009/08/02/ucs-class-wrap-up/">UCS Class Wrap-Up</a> <span class="post-date-list">29 May 2022</span></li><li><a href="/2009/07/30/correction-there-might-be-an-end-to-end-fcoe-solution/">Correction: There Might be an End-to-End FCoE Solution</a> <span class="post-date-list">309 May 303030</span></li><li><a href="/2009/08/22/planning-for-fcoe-in-your-data-center-today/">Planning for FCoE in Your Data Center Today</a> <span class="post-date-list">229 May 222222</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
