<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Connecting Nexus 5000 to Older Gigabit Ethernet Switches - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="Connecting Nexus 5000 to Older Gigabit Ethernet Switches - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="Connecting Nexus 5000 to Older Gigabit Ethernet Switches - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2009/08/27/connecting-nexus-5000-to-older-gigabit-ethernet-switches/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">Connecting Nexus 5000 to Older Gigabit Ethernet Switches</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 279 May 272727 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/tutorial">Tutorial</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;474 words (estimated 3 minutes to read)</span>
  <p>One of the things that confused me when I first started working with the Nexus 5000 line was how I would connect this 10Gb Ethernet switch to older 1Gb Ethernet switches, like the older Cisco Catalyst or HP ProCurve switches that I also have in the lab. It turns out&mdash;many of you probably already know this&mdash;that the first 8 ports on a Nexus 5010 and the first 16 ports on Nexus 5020 can be configured to operate as Gigabit Ethernet ports. You can use these ports to connect to older Gigabit Ethernet switches.</p>
<p>It&rsquo;s really not too complicated. In this post, I&rsquo;ll describe the configuration I used to connect a Cisco Catalyst 3560G and an HP ProCurve 2924 to a Cisco Nexus 5010. In both cases, I used a 2-port port channel to link the switches together. The one drawback is that the Nexus doesn&rsquo;t participate in VTP, so all VLANs have to be manually defined on each switch independently. For my small lab environment, that&rsquo;s not a showstopper, but it does underscore the fact the Nexus 5000 series is primarily target as access switches.</p>
<p>Here&rsquo;s the configuration I used on the Nexus:</p>
<pre><code>interface Ethernet1/3  
switchport mode trunk  
speed 1000  
switchport trunk native vlan 999  
channel-group 3 mode on
</code></pre>
<p>This configuration was repeated on 2 ports for the Cisco Catalyst 3560G and on 2 more ports for the HP ProCurve 2924. Obviously, each of them used a different port channel (<code>channel-group 3 mode on</code> for the Catalyst and <code>channel-group 4 mode on</code> for the ProCurve). Remember that you have to use one of the first 8 (for a Nexus 5010) or the first 16 (for a Nexus 5020) ports because these are the only ports that support setting the speed down to Gigabit Ethernet.</p>
<p>On the Cisco Catalyst 3560G, the configuration is almost identical:</p>
<pre><code>interface GigabitEthernet1/10  
switchport mode trunk  
switchport trunk native vlan 999  
channel-group 2 mode on
</code></pre>
<p>This configuration is repeated on two ports (same as the Nexus). Note that the channel-groups don&rsquo;t have to match <em>between</em> the switches, only <em>within</em> each switch. There&rsquo;s no need to specify the speed here on the Catalyst, as this is already a Gigabit Ethernet port. We only need to specify the speed on the Nexus because it won&rsquo;t negotiate down to Gigabit Ethernet.</p>
<p>On the HP ProCurve, the configuration is pretty understandable. First, the <code>trunk</code> command creates the port channel:</p>
<pre><code>trunk 23-24 Trk1 trunk
</code></pre>
<p>Then, the VLAN configuration specifies the same native (untagged) VLAN on the port channel:</p>
<pre><code>vlan 999  
name &quot;Trunk-Native&quot;  
untagged 12,14,20,A2,Trk1  
no ip address  
exit
</code></pre>
<p>Once the configuration is done, you&rsquo;ll need to insert RJ-45 SFPs (Cisco product number GLC-T, I believe) into the appropriate ports on the Nexus 5000 switch and then cable the switches together. If you didn&rsquo;t make any typos along the way, then you should be good to go!</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/cisco">Cisco</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/hp">HP</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/networking">Networking</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/nexus">Nexus</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/cli">CLI</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2009/08/24/new-users-guide-to-configuring-cisco-mds-zones-via-cli/">New User&#39;s Guide to Configuring Cisco MDS Zones via CLI</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2009/08/27/virtualization-short-take-29/">Virtualization Short Take #29</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2009%2f08%2f27%2fconnecting-nexus-5000-to-older-gigabit-ethernet-switches%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2009%2f08%2f27%2fconnecting-nexus-5000-to-older-gigabit-ethernet-switches%2f&text=Connecting%20Nexus%205000%20to%20Older%20Gigabit%20Ethernet%20Switches" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2009%2f08%2f27%2fconnecting-nexus-5000-to-older-gigabit-ethernet-switches%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2008/12/19/vmware-esx-networking-articles/">VMware ESX Networking Articles</a> <span class="post-date-list">199 May 191919</span></li><li><a href="/2009/08/11/why-no-multi-hop-fcoe/">Why No Multi-Hop FCoE?</a> <span class="post-date-list">119 May 111111</span></li><li><a href="/2009/07/16/mudslinging-between-cisco-and-hp/">Mudslinging Between Cisco and HP</a> <span class="post-date-list">169 May 161616</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
