<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Virtualization Short Take #30 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="Virtualization Short Take #30 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="Virtualization Short Take #30 - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2009/10/01/virtualization-short-take-30/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">Virtualization Short Take #30</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 19 May 1011 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/information">Information</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;589 words (estimated 3 minutes to read)</span>
  <p>Welcome to Virtualization Short Take #30, my irregularly posted collection of links and thoughts on virtualization. I hope you find something useful here!</p>
<ul>
<li>
<p>I believe Jason Boche already mentioned this on his own blog (I couldn&rsquo;t find a link) and also started <a href="http://communities.vmware.com/message/1335428">this VMware Communities thread</a> discussing the fact that the 8/6 patch breaks FT compatibility between ESX and ESXi hosts in the same cluster. <a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1013637">This VMware KB article</a> is now available with more information on the problem. I&rsquo;m hearing from VMware is that there is no short-term solution; the workaround is to use only ESX or only ESXi within a single cluster. (I don&rsquo;t recommend not patching the hosts until the problem is fixed.)</p>
</li>
<li>
<p>And while we&rsquo;re talking VMware FT, <a href="http://www.vmware.com/resources/techresources/10058">here&rsquo;s a good document</a> on VMware FT architecture and performance. (Eric Siebert&rsquo;s <a href="http://itknowledgeexchange.techtarget.com/virtualization-pro/masters-guide-to-vmware-fault-tolerance/">Virtualization Pro blog post about VMware FT</a> is really good, too.)</p>
</li>
<li>
<p>I&rsquo;m also hearing reports that there are problems mixing ESX and ESXi in the same cluster when using host profiles. Theoretically, you should be able to use an ESX reference host and apply that to ESXi hosts, but in reality it&rsquo;s not working so well.</p>
</li>
<li>
<p>If you&rsquo;re using AppSpeed, you&rsquo;ll need to manually turn off the AppSpeed sensor VMs in order to put ESX/ESXi hosts into Maintenance Mode. The sensor VM won&rsquo;t VMotion off the host, so this prevents the host from entering Maintenance Mode.</p>
</li>
<li>
<p>Here&rsquo;s another topic that I think has been mentioned elsewhere (looks like Duncan <a href="http://www.yellow-bricks.com/2009/09/14/site-recovery-manager-1-0-update-1-patch-4/">mentions it here</a>), but SRM 1.0 Update 1 Patch 4 was released a couple of weeks ago and it includes a fit for customizing the IP addresses of Windows Server 2008 guest operating system instances.</p>
</li>
<li>
<p>Toward the end of August, VMware Infrastructure 3 support was added for NetApp MetroCluster (see <a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1001783">this VMware KB article</a>). Now, how about some VMware vSphere 4 support?</p>
</li>
<li>
<p>Most of you are aware by now (and if you aren&rsquo;t aware, go buy a copy of <a href="http://www.amazon.com/Mastering-VMware-vSphere-Computer-Tech/dp/0470481382/ref=sr_1_1?ie=UTF8&amp;s=books&amp;qid=1254413521&amp;sr=8-1">my book</a> so you will be aware) that you can use Storage VMotion to change virtual disks from thin provisioned to thick provisioned. The problem is this: the type of thick provisioned disk created when you do this via Storage VMotion is <em>eagerzeroedthick</em>, not <em>zeroedthick</em>. This means that it is not friendly to storage array thin provisioning!</p>
</li>
<li>
<p>I&rsquo;m still looking for a valid use case for this little trick, but it&rsquo;s mentioned by both Duncan and Eric: the ability to present multiple cores per socket to a virtual machine. Duncan&rsquo;s post is <a href="http://www.yellow-bricks.com/2009/06/04/per-processor-licenses-for-your-application/">here</a>; Eric&rsquo;s post is <a href="http://www.vcritical.com/2009/09/use-coreinfo-to-view-vm-core-and-socket-count/">here</a>. As Eric points out, licensing is one potential use. Anyone have any other valid use cases?</p>
</li>
<li>
<p>Eric Sloof has <a href="http://www.ntpro.nl/blog/archives/1283-vSphere-DvSwitch-caveats-and-best-practices!.html">a great post</a> on dvSwitch caveats and best practices that is definitely worth reading.</p>
</li>
<li>
<p>Want to make linked clones work on vSphere? Tom Howarth points out in <a href="http://planetvm.net/blog/?p=777">this post</a> <a href="http://engineering.ucsb.edu/~duonglt/vmware/vGhettoLinkedClone.html">some information</a> made available by William Lam. Both articles are worth a look.</p>
</li>
<li>
<p>Tom also posted some useful information on <a href="http://planetvm.net/blog/?p=746">enabling firewall logging</a> on VMware ESX hosts.</p>
</li>
<li>
<p><a href="http://www.virtualinsanity.com/index.php/2009/09/27/capacity-conundrum-part-1/">This post</a> over on Aaron Sweemer&rsquo;s blog was actually written by guest author John Blessing (aka <a href="http://twitter.com/vtrooper">@vTrooper</a> on Twitter) and just goes to illustrate how difficult it can be to create a chargeback model.</p>
</li>
<li>
<p>Of course, the &ldquo;Super iSCSI Friends&rdquo; recently produced a multi-vendor post on using iSCSI with VMware vSphere, a great follow-up to the <a href="http://virtualgeek.typepad.com/virtual_geek/2009/01/a-multivendor-post-to-help-our-mutual-iscsi-customers-using-vmware.html">original multi-vendor VI3 post</a>. Here&rsquo;s Chad&rsquo;s version of the <a href="http://virtualgeek.typepad.com/virtual_geek/2009/09/a-multivendor-post-on-using-iscsi-with-vmware-vsphere.html">multi-vendor vSphere and iSCSI post</a>.</p>
</li>
</ul>
<p>That wraps it up for this time around. Thanks for reading, and feel free to submit any other useful or interesting links in the comments below.</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/esx">ESX</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/esxi">ESXi</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/iscsi">iSCSI</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/virtualization">Virtualization</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vmware">VMware</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vmwareft">VMwareFT</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/vsphere">vSphere</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2009/09/30/book-review-cisco-routers-for-the-desperate-2nd-edition/">Book Review: Cisco Routers for the Desperate, 2nd Edition</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2009/10/04/vmware-lab-manager-design-considerations/">VMware Lab Manager Design Considerations </a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2009%2f10%2f01%2fvirtualization-short-take-30%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2009%2f10%2f01%2fvirtualization-short-take-30%2f&text=Virtualization%20Short%20Take%20%2330" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2009%2f10%2f01%2fvirtualization-short-take-30%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2009/05/21/vmware-vsphere-vds-vmkernel-ports-and-jumbo-frames/">VMware vSphere vDS, VMkernel Ports, and Jumbo Frames</a> <span class="post-date-list">219 May 212121</span></li><li><a href="/2009/06/05/adaptec-support-in-vsphere-revoked/">Adaptec Support in vSphere Revoked?</a> <span class="post-date-list">59 May 5055</span></li><li><a href="/2009/06/04/vmware-vsphere-review-in-the-works/">VMware vSphere Review in the Works</a> <span class="post-date-list">49 May 4044</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
