<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>One Use Case for an SSH Bastion Host - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="One Use Case for an SSH Bastion Host - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="One Use Case for an SSH Bastion Host - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2015/12/04/use-case-ssh-bastion-host/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">One Use Case for an SSH Bastion Host</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 49 May 4044 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/explanation">Explanation</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;535 words (estimated 3 minutes to read)</span>
  <p>In this post, I&rsquo;m going to explore one specific use case for using an SSH bastion host. I described <a href="/2015/11/21/using-ssh-bastion-host/">this configuration and how to set it up</a> in a previous post; in this post, though, I&rsquo;d like to focus on one practical use case.</p>
<p>This use case is actually one I depicted graphically in <a href="/2015/11/21/using-ssh-bastion-host/">my earlier post</a>:</p>
<p><img src="/public/img/ssh-bastion-host.png" alt="SSH bastion host diagram"></p>
<p>This diagram could represent a couple different examples. For example, perhaps this is an AWS VPC. Security best practices suggest that you should limit access from the Internet to your instances as much as possible; unless an instance needs to accept traffic from the Internet, don&rsquo;t assign a public IP address (or an Elastic IP address). However, without a publicly-accessible IP address, how does one connect to and manage the instance? You can&rsquo;t SSH to it without a publicly-accessible IP address&mdash;unless you use an SSH bastion host.</p>
<p>Or perhaps this diagram represents an <a href="http://openstack.org/">OpenStack</a> private cloud, where users can deploy instances in a private tenant network. In order for those instances to be accessible externally (where &ldquo;externally&rdquo; means external to the OpenStack cloud), the tenant must assign each instance a floating IP address. Security may not be as much of a concern here, since &ldquo;external&rdquo; access to the OpenStack cloud is probably still originating within the corporate firewalls. Nevertheless, users may still want a way to deploy instances <em>without</em> having to assign a floating IP address for every instance. Leveraging an SSH bastion host allows this sort of configuration while still enabling SSH access to the private instances. (Face it, console access just isn&rsquo;t enough.)</p>
<p>Looking more at this second example (an OpenStack private cloud), you might be thinking that this sort of configuration&mdash;having instances to which you don&rsquo;t want to assign a floating IP address&mdash;is kind of rare. Just off the top of my head, I can think of a couple different cases where this makes sense to me:</p>
<ol>
<li>Let&rsquo;s say you want to set up a <a href="http://docs.docker.com/swarm/">Docker Swarm</a> cluster backed by <a href="https://github.com/coreos/etcd">etcd</a>. The etcd cluster is an essential part of running a Swarm cluster, but it&rsquo;s really only being used by the Swarm cluster, and doesn&rsquo;t need to be accessible from any other tenant network. Why assign floating IP addresses (which go against your quota) if it&rsquo;s not necessary?</li>
<li>Another example might be a multi-tier application being deployed by a tenant, where the web tier needs floating IP addresses but the application and database tiers do not (after all, the application and database tiers are not accessed by any external sources, only the web tier).</li>
</ol>
<p>In both these examples, you&rsquo;re going to want (dare I say <em>need</em>?) some type of management access to these instances that don&rsquo;t have floating IP addresses assigned. While there may be situations where using multiple networks&mdash;such as management network and an application network&mdash;is the right solution, I believe that in most situations the use of an SSH bastion host satisfies the requirements, is simpler, is well-understood, and is easier to troubleshoot.</p>
<p>Hopefully this post has provided some insight and information on <em>when</em> and <em>why</em> you might find an SSH bastion host a useful addition to your design. If you have any questions, feel free <a href="https://twitter.com/scott_lowe">to hit me up on Twitter</a>. Thanks!</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/linux">Linux</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/ssh">SSH</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/networking">Networking</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/security">Security</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/openstack">OpenStack</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2015/11/25/intro-to-terraform/">An Introduction to Terraform</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2015/12/11/using-ssh-multiplexing/">Using SSH Multiplexing</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2015%2f12%2f04%2fuse-case-ssh-bastion-host%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2015%2f12%2f04%2fuse-case-ssh-bastion-host%2f&text=One%20Use%20Case%20for%20an%20SSH%20Bastion%20Host" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2015%2f12%2f04%2fuse-case-ssh-bastion-host%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2015/03/10/technology-short-take-49/">Technology Short Take #49</a> <span class="post-date-list">109 May 101010</span></li><li><a href="/2015/11/21/using-ssh-bastion-host/">Using an SSH Bastion Host</a> <span class="post-date-list">219 May 212121</span></li><li><a href="/2015/08/25/technology-short-take-53/">Technology Short Take #53</a> <span class="post-date-list">259 May 252525</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
