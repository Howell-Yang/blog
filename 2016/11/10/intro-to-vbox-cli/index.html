<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>An Introduction to the VirtualBox CLI - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="An Introduction to the VirtualBox CLI - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="An Introduction to the VirtualBox CLI - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2016/11/10/intro-to-vbox-cli/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">An Introduction to the VirtualBox CLI</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 109 May 101010 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/education">Education</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;801 words (estimated 4 minutes to read)</span>
  <p>This post provides a basic introduction to the <a href="https://www.virtualbox.org/">VirtualBox</a> CLI (command-line interface) tool, <code>vboxmanage</code>. This post does not attempt to replace <a href="https://www.virtualbox.org/manual/UserManual.html">the comprehensive documentation</a>; rather, its purpose is to help users who are new to <code>vboxmanage</code> (such as myself, having recently <a href="/2016/09/28/why-now-using-virtualbox-with-vagrant/">adopted VirtualBox for my Vagrant environments</a>) get somewhat up to speed as quickly and as painlessly as possible.</p>
<h2 id="basic-commands">Basic Commands</h2>
<p>Let&rsquo;s start with some basic operations. Here are a few to get you started:</p>
<ul>
<li>
<p>To list all the registered VMs, simply run <code>vboxmanage list vms</code>. Note that if you are using Vagrant with VirtualBox, this command will also show VirtualBox VMs that have been instantiated by Vagrant. Similarly, if you are using Docker Machine with VirtualBox, this command will show you VMs created by Docker Machine.</p>
</li>
<li>
<p>To list all the running VMs, use <code>vboxmanage list runningvms</code>.</p>
</li>
<li>
<p>To start a VM, run <code>vboxmanage startvm &lt;name or UUID&gt;</code>. You can optionally specify a <code>--type</code> parameter to control how the VM is started. Using <code>--type gui</code> will show it via the host GUI; using <code>--type headless</code> means you&rsquo;ll need to interact over the network (typically via SSH). To emulate Vagrant/Docker Machine-like behavior, you&rsquo;d use <code>--type headless</code>.</p>
</li>
<li>
<p>Once a VM is running, you&rsquo;ll switch to <code>vboxmanage controlvm &lt;subcommand&gt;</code> for most other operations. Valid <code>&lt;subcommands&gt;</code> related to VM state operations include pause, resume, reset, poweroff, and savestate. (There&rsquo;s a whole ton of additional subcommands, a few of which I&rsquo;ll discuss later in this post.)</p>
</li>
<li>
<p>To unregister (remove) a stopped VM, the command <code>vboxmanage unregister &lt;name or UUID&gt;</code> will do it for you. Keep in mind this does <em>not</em> delete the VM&rsquo;s files. To delete the files, add the <code>--delete</code> flag to the command.</p>
</li>
</ul>
<h2 id="viewing-and-modifying-the-configuration-of-a-stopped-vm">Viewing and Modifying the Configuration of a Stopped VM</h2>
<p>To view the information about a VM, run <code>vboxmanage showvminfo &lt;name or UUID&gt;</code>. Because this command is &ldquo;read only&rdquo; (it doesn&rsquo;t attempt to modify the configuration of the VM in any way), you can use this on running, paused, or stopped VMs.</p>
<p>To change the configuration of a stopped VM, you&rsquo;ll use the <code>modifyvm</code> keyword to <code>vboxmanage</code>. Here are some quick examples of modifying the configuration of a stopped VM:</p>
<ul>
<li>
<p>To change the name of a VM, use <code>vboxmanage modifyvm &lt;name or UUID&gt; --name &lt;new name&gt;</code>. Note that you wouldn&rsquo;t want to do this for Vagrant- or Docker Machine-managed VirtualBox VMs, as you would likely break the relationship between the VM and Vagrant/Docker Machine.</p>
</li>
<li>
<p>To change a VM&rsquo;s description, you&rsquo;d use <code>vboxmanage modifyvm &lt;name or UUID&gt; --description &lt;new description&gt;</code>.</p>
</li>
<li>
<p>To change the amount of RAM assigned to a VM, use <code>vboxmanage modifyvm &lt;name or UUID&gt; --memory &lt;RAM in MB&gt;</code>.</p>
</li>
<li>
<p>To change the number of virtual CPUs assigned to a VM, use <code>vboxmanage modifyvm &lt;name or UUID&gt; --cpus &lt;number&gt;</code>.</p>
</li>
<li>
<p>To put a VM&rsquo;s NIC into promiscuous mode (typically necessary if you are running a software switch in the VM), use <code>vboxmanage modifyvm &lt;name or UUID&gt; --nicpromisc&lt;num&gt; allow-all</code>, where <code>&lt;num&gt;</code> is the number of the NIC from VirtualBox&rsquo;s perspective (&ldquo;nicpromisc1&rdquo; would target the equivalent of &ldquo;eth0&rdquo;, &ldquo;nicpromisc2&rdquo; would target the equivalent of &ldquo;eth1&rdquo;, and so forth).</p>
</li>
</ul>
<p>Note that these commands <em>won&rsquo;t</em> work on a paused VM; the VM must actually be shutdown/stopped. If the VM isn&rsquo;t stopped, then you&rsquo;ll need to switch from the <code>modifyvm</code> command to the <code>controlvm</code> command, as described in the next section.</p>
<h2 id="modifying-the-configuration-of-a-running-vm">Modifying the Configuration of a Running VM</h2>
<p>Not all configuration options can be modified for a running VM, but for those that can you can use the <code>controlvm</code> subcommand. I&rsquo;ve already discussed the <code>controlvm</code> subcommands that affect VM state (pause, resume, reset, poweroff, and savestate); here are a few more that you might find useful:</p>
<ul>
<li>
<p>To simulate a &ldquo;disconnected&rdquo; eth0 link in the VM, use <code>vboxmanage controlvm &lt;name or UUID&gt; setlinkstate1 off</code>. (As with the &ldquo;nicpromis&rdquo; command, the number on the end of &ldquo;setlinkstate&rdquo; refers to the number of the NIC you&rsquo;d like to affect). Run <code>vboxmanage controlvm &lt;name or UUID&gt; setlinkstate1 on</code> to restore the connection. (This is more handy than it may seem at first glance.)</p>
</li>
<li>
<p>You can change a NIC&rsquo;s promiscuous mode setting on the fly while the VM is running; just use <code>vboxmanage controlvm &lt;name or UUID&gt; nicpromisc&lt;num&gt; allow-all</code>. To make &ldquo;eth1&rdquo; in the VM named &ldquo;vm-name&rdquo; promiscuous, for example, you&rsquo;d run <code>vboxmanage controlvm vm-name nicpromisc2 allow-all</code>. Change &ldquo;allow-all&rdquo; to &ldquo;deny&rdquo; to reverse the effect.</p>
</li>
<li>
<p>To change the configuration of a NIC&mdash;meaning, to change the VirtualBox network to which it connects&mdash;use <code>vboxmanage controlvm nic&lt;num&gt; &lt;network type&gt;</code>. For example, to connect &ldquo;eth1&rdquo; to a hostonly network, you&rsquo;d use <code>vboxmanage controlvm &lt;name or UUID&gt; nic2 hostonly</code>.</p>
</li>
</ul>
<p>Obviously, this is only a subset of what you can do with <code>vboxmanage</code>; use <code>vboxmanage &lt;command&gt; help</code> to get more information on the options available for each command. What I&rsquo;ve included here will help you at least get started. Have fun!</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/virtualbox">VirtualBox</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/virtualization">Virtualization</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/cli">CLI</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2016/11/09/thinking-out-loud-future-of-kubernetes/">Thinking Out Loud: The Future of Kubernetes</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2016/11/18/technology-short-take-73/">Technology Short Take #73</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2016%2f11%2f10%2fintro-to-vbox-cli%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2016%2f11%2f10%2fintro-to-vbox-cli%2f&text=An%20Introduction%20to%20the%20VirtualBox%20CLI" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2016%2f11%2f10%2fintro-to-vbox-cli%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2016/10/05/triple-provider-vagrant-environment/">A Triple-Provider Vagrant Environment</a> <span class="post-date-list">59 May 5055</span></li><li><a href="/2016/09/28/why-now-using-virtualbox-with-vagrant/">Why I&#39;m Now Using VirtualBox with Vagrant</a> <span class="post-date-list">289 May 282828</span></li><li><a href="/2016/02/09/using-kvm-libvirt-macvtap-interfaces/">Using KVM with Libvirt and macvtap Interfaces</a> <span class="post-date-list">99 May 9099</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
