<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Supercharging my CLI - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="Supercharging my CLI - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="Supercharging my CLI - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2018/11/29/supercharging-my-cli/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">Supercharging my CLI</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 299 May 292929 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/explanation">Explanation</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;1162 words (estimated 6 minutes to read)</span>
  <p>I spent a <em>lot</em> of time in the terminal. I can&rsquo;t really explain why; for many things it just feels faster and more comfortable to do them via the command line interface (CLI) instead of via a graphical point-and-click interface. (I&rsquo;m not totally against GUIs, for some tasks they&rsquo;re far easier.) As a result, when I find tools that make my CLI experience faster/easier/more powerful, that&rsquo;s a big boon. Over the last few months, I&rsquo;ve added some tools to my <a href="https://getfedora.org">Fedora</a> laptop that have really added some power and flexibility to my CLI environment. In this post, I want to share some details on these tools and how I&rsquo;m using them.</p>
<p>The tools I&rsquo;ve adopted and that I&rsquo;ll discuss in this post are:</p>
<ul>
<li><code>powerline-go</code> for an informative CLI prompt</li>
<li><code>rg</code> for faster content searches</li>
<li><code>fd</code> for faster filename searches</li>
<li><code>fzf</code> for fuzzy command history access and faster directory navigation</li>
</ul>
<p>Let&rsquo;s take a closer look at each of these.</p>
<h2 id="a-more-informative-shell-prompt">A More Informative Shell Prompt</h2>
<p>There&rsquo;s been quite a few articles written about <a href="https://powerline.readthedocs.io/en/latest/"><code>powerline</code></a>, a Python-based utility that provides a much more informative shell prompt. Instead of going down the traditional <code>powerline</code> route, I found <a href="https://github.com/justjanne/powerline-go"><code>powerline-go</code></a>&mdash;a small, statically linked Go binary that provides similar functionality.</p>
<p>Now, my shell prompt automatically displays things like:</p>
<ul>
<li>The currently checked-out branch in a Git repository and indicators for untracked/modified files in the repository</li>
<li>The name of the currently-active Python virtual environment</li>
<li>The name of the Kubernetes cluster against which <code>kubectl</code> will operate (and the namespace, if one is selected)</li>
<li>And more mundane information like the username, hostname, and current working directory</li>
</ul>
<p>Here&rsquo;s a quick demo of <code>powerline-go</code>:</p>
<p><img src="/public/img/powerline-go-demo.gif" alt="Powerline-go demo"></p>
<p>I&rsquo;ve found <code>powerline-go</code> to be very easy to use and very easy to configure. If you&rsquo;re looking for a way to make your shell prompt a bit more interactive and a bit more informative, <code>powerline-go</code> is definitely worth a look.</p>
<h2 id="faster-content-searches-with-ripgrep">Faster Content Searches with Ripgrep</h2>
<p><a href="https://github.com/BurntSushi/ripgrep">Ripgrep</a>, or <code>rg</code>, is an insanely fast search tool that recursively searches a path for a regex (regular expression) pattern. Ripgrep is faster than most other search tools, ignores binary files by default, and honors <code>.gitignore</code> files (which can be both handy and annoying at times). Ripgrep also offers pretty impressive platform support, with releases available for virtually all major Linux distributions, various BSDs, Windows, and macOS.</p>
<p>This is probably subjective, but I find myself now more likely to use <code>rg</code> to find a file that I need than I would have before with some other search tool. When I combine it with other tools, it&rsquo;s really become quite handy. That being said, the &ldquo;regular&rdquo; <code>grep</code> utility may be sufficient for some users&rsquo; needs.</p>
<h2 id="faster-filename-searches-with-fd">Faster Filename Searches with <code>fd</code></h2>
<p><a href="https://github.com/sharkdp/fd"><code>fd</code></a> is a super-fast alternative to the traditional <code>find</code> command. It offers a simpler syntax (just <code>fd &lt;pattern&gt;</code> and you&rsquo;re off to the races) and honors <code>.gitignore</code> files by default (although there is an option to not honor them and include hidden/ignored items). You can use it to find only files or only directories in a particular path. (Did I mention it&rsquo;s really fast?)</p>
<p>Like with <code>rg</code>, the ease of use and speed of <code>fd</code> have led me to use it more often than I would have used the traditional <code>find</code> utility. Making it more approachable to perform filename searches has, for me, made the tool more useful in the end.</p>
<h2 id="fuzzy-searching-with-fzf">Fuzzy Searching with <code>fzf</code></h2>
<p>This tool has changed my life.</p>
<p>OK, that&rsquo;s probably hyperbole, but <a href="https://github.com/junegunn/fzf"><code>fzf</code></a> is a truly amazing and useful tool. <code>fzf</code> describes itself as a &ldquo;command-line fuzzy finder,&rdquo; and it can be used to perform fuzzy searching in any list of things&mdash;filenames, directories, processes, URLs, whatever. Like <code>rg</code> and <code>fd</code>, it&rsquo;s super-fast.</p>
<p>Out of the box (so to speak), <code>fzf</code> enhances the CLI in a couple different ways:</p>
<ul>
<li>It replaces the default Ctrl-R history search with a fuzzy history search that lets me search and interactively select commands to run from the command history. (What&rsquo;s that? You didn&rsquo;t know about the Ctrl-R command history search in Bash? Your CLI experience is definitely about to change!)</li>
<li><code>fzf</code> adds a new keybinding for Ctrl-T, which lets me interactively search for and add parameters to a command-line argument. For example, let&rsquo;s say I want to edit a file in <a href="https://code.visualstudio.com/">Visual Studio Code</a> (my current preferred text editor). I can type <code>code</code>, press Ctrl-T, then fuzzy search for the file or directory I want to open, press Enter to select it, and press Enter again to execute the command. My <code>fzf</code> configuration for the Ctrl-T functionality uses <code>fd</code> to search anywhere in my home directory, but that&rsquo;s configurable.</li>
<li>Finally, <code>fzf</code> adds a keybinding for Alt-C, which adds the ability to use <code>fzf</code> to quickly change directories. Again, <code>fzf</code> is leveraging <code>fd</code> with a list of all the directories in my home directory, but the tool that <code>fzf</code> uses and the scope of the search are configurable.</li>
</ul>
<p>These three features alone make <code>fzf</code> so useful. But wait&mdash;there&rsquo;s more! <code>fzf</code> can also perform Bash completion for files and directories, process IDs, host names, and environment variables.</p>
<p>It&rsquo;s also highly customizable; see <a href="https://github.com/junegunn/fzf">the GitHub repo</a> for more details.</p>
<h2 id="combining-these-tools">Combining These Tools</h2>
<p>I mentioned above that <code>fzf</code> can use <code>fd</code> for various functions (like the Alt-C and Ctrl-T functions), so you can already get an idea of how useful it can be to combine these tools with each other or with other tools.</p>
<p>Here&rsquo;s a couple examples:</p>
<ul>
<li>Let&rsquo;s say I know I have a file containing the word &ldquo;Kubernetes&rdquo; in my home directory, and I remember part of the filename but not the full filename. No worries, <code>rg</code> and <code>fzf</code> to the rescue! From my home directory, I can run <code>rg -il kubernetes . | fzf | xargs code</code>. <code>rg</code> will find all the matching files, pass them to <code>fzf</code> for interactive fuzzy searching, and then pass the one I select to <code>code</code> for editing.</li>
<li>The <code>fzf</code> wiki has an example of using <code>fzf</code> for fuzzy searching of Chrome browsing history; I adapted this for Firefox. (See the <code>fwh</code> file in <a href="https://github.com/scottslowe/scripts">my &ldquo;scripts&rdquo; repository</a>. I&rsquo;m still fine-tuning it for the best results.) There&rsquo;s also a <em>ton</em> of other examples in the wiki, so have a look there.</li>
</ul>
<p>I&rsquo;m also working on a command/script that will use both <code>rg</code> <em>and</em> <code>fd</code> for a combined filename/content search that passes the unique results back to <code>fzf</code> for selecting a file to edit. I haven&rsquo;t quite gotten that one worked out just yet.</p>
<h2 id="other-tools">Other Tools</h2>
<p>Other tools I&rsquo;m currently testing (but haven&rsquo;t necessarily fully adopted as core part of my workflow) are <a href="https://github.com/knqyf263/pet">pet</a> (described as a command-line snippet manager) and <a href="https://github.com/mattn/memo">memo</a> (a tool for creating/editing/finding &ldquo;memos&rdquo; or short notes). Both of these tools can also leverage <code>fzf</code> for finding information, so that brings a bit of consistency to my toolset (fuzzy searching for the win!).</p>
<p>Anyway, I hope you found something useful here, and feel free to <a href="https://twitter.com/scott_lowe">hit me up on Twitter</a> if you have questions or suggestions for other tools I should consider. Thanks!</p>

  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/linux">Linux</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/fedora">Fedora</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/cli">CLI</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2018/11/09/technology-short-take-106/">Technology Short Take 106</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2018/11/30/technology-short-take-107/">Technology Short Take 107</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2018%2f11%2f29%2fsupercharging-my-cli%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2018%2f11%2f29%2fsupercharging-my-cli%2f&text=Supercharging%20my%20CLI" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2018%2f11%2f29%2fsupercharging-my-cli%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2018/11/09/technology-short-take-106/">Technology Short Take 106</a> <span class="post-date-list">99 May 9099</span></li><li><a href="/2018/10/05/technology-short-take-105/">Technology Short Take 105</a> <span class="post-date-list">59 May 5055</span></li><li><a href="/2018/09/27/a-markdown-to-pdf-workflow-on-linux/">A Markdown-to-PDF Workflow on Linux</a> <span class="post-date-list">279 May 272727</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
