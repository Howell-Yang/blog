<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Running Fedora on my Mac Pro - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="Running Fedora on my Mac Pro - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="Running Fedora on my Mac Pro - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2018/12/19/running-fedora-on-my-mac-pro/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">Running Fedora on my Mac Pro</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 199 May 191919 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/explanation">Explanation</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;761 words (estimated 4 minutes to read)</span>
  <p>I&rsquo;ve been working on migrating off macOS for a couple of years (10+ years on a single OS isn&rsquo;t undone quickly or easily). I won&rsquo;t go into all the gory details here; see <a href="/2012/11/30/why-i-might-leave-os-x/">this post for some background</a> and then see <a href="/2017/10/25/linux-migration-wrap-up/">this update from last October</a> that summarized my previous efforts to migrate to Linux (<a href="https://getfedora.org/">Fedora</a>, specifically) as my primary desktop operating system. (What I <em>haven&rsquo;t</em> blogged about is the success I had switching to Fedora full-time when I joined Heptio.) I took another big step forward in my efforts this past week, when I rebuilt my 2011-era Mac Pro workstation to run Fedora.</p>
<p>When I mentioned this on Twitter, a few people asked the question every parent dreads hearing: &ldquo;Why?&rdquo; (If you&rsquo;ve been a parent for more than a couple years you&rsquo;ll understand this.) The motivation for using Linux is something I&rsquo;ve already discussed. As for the hardware, it&rsquo;s simple: the hardware for the Mac Pro is very good (see the base specs <a href="https://everymac.com/systems/apple/mac_pro/specs/mac-pro-eight-core-2.4-mid-2010-westmere-specs.html">here</a>), so why <em>not</em> re-use the hardware for use with Linux? I mean, if I&rsquo;ve already decided on running Linux (which I have), then why spend money on new hardware when the hardware I have meets my requirements?</p>
<p>Anyway, once I&rsquo;d migrated all my data off&mdash;which itself was no small feat, and perhaps worthy of a separate blog post of its own&mdash;I installed Fedora 28 via a USB drive I created using Fedora Media Writer on my MacBook Pro (that&rsquo;s right, I haven&rsquo;t <em>completely</em> eradicated macOS just yet). The installation seemed to go fine, but in reality I encountered a number of issues after it completed:</p>
<ul>
<li>The installer didn&rsquo;t set the hostname (I admit that I may have missed this during the installation process).</li>
<li>I would get <code>sss_cache</code> messages along the lines of <code>confdb_get_domains error</code> anytime I tried to manipulate users or groups; turns out the system&rsquo;s <code>sssd</code> configuration was mangled (in comparison to my laptop&rsquo;s configuration) with missing services, services not enabled or running, etc.</li>
<li>As of Fedora 28, the installer no longer creates an account during the installation. Unfortunately, the user creation process post-installation doesn&rsquo;t expose all the options, so I couldn&rsquo;t set a consistent UID and GID across my Fedora systems. (This probably doesn&rsquo;t matter in the long run, but I still prefer to keep them consistent.)</li>
</ul>
<p>After fighting with the Samsung SSD I was using as my boot drive in the Mac Pro (and finally accepting that there would be an additional EFI System Partition on the drive that would apparently go unused), I re-installed Fedora, this time using Fedora 27 bootable media (again, created using Fedora Media Writer). This time the installation was <em>much</em> smoother, and the resulting system build was <em>much</em> more stable. After a not-so-quick <code>dnf update</code> followed by an even-longer <code>dnf system-upgrade</code> (to upgrade to Fedora 28), I was back to Fedora 28, but this time without any of the issues I&rsquo;d experienced earlier. I don&rsquo;t know the source of the problems with the original F28 installation, but re-installing using F27 and then upgrading to F28 worked better than a fresh F28 installation. Go figure!</p>
<p>Overall, most everything works as expected. There are a few oddities:</p>
<ul>
<li>I&rsquo;m using the Mac Pro&rsquo;s digital audio out (S/PDIF) to connect to a Samsung sound bar under the monitors. I guess Fedora doesn&rsquo;t send enough information to the sound bar, because it will turn itself off after a short after no sound being sent to it. It turns itself back on when the system sends sound, so it&rsquo;s more of an annoyance than anything else.</li>
<li>The built-in Wi-Fi adapter doesn&rsquo;t work (but this is a known issue with most Apple hardware, and can be resolved if needed), but I don&rsquo;t need it so it doesn&rsquo;t really matter.</li>
<li>I&rsquo;m not using an Apple keyboard so I didn&rsquo;t have an Eject key on the keyboard to open/close the Mac Pro&rsquo;s optical drive (which <em>is</em> recognized by Fedora). CLI to the rescue&mdash;just use <code>eject -T /dev/sr0</code> to toggle the drive&rsquo;s open/close status.</li>
</ul>
<p>Otherwise, Fedora seems to run just fine. I am seeing some kernel-related errors on boot that I need to track down, but those errors don&rsquo;t seem to be translating into issues actually using the system (I&rsquo;m writing this blog post on the Fedora-powered Mac Pro right now).</p>
<p>As a bonus, the Micron p420m PCI SSD drive that wasn&rsquo;t recognized under macOS works perfectly under Fedora. Now to get Libvirt configured to use that for all VM-related storage&hellip;</p>
<p>If you have any questions or want more information, feel free to <a href="https://twitter.com/scott_lowe">hit me up on Twitter</a>.</p>

  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/linux">Linux</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/apple">Apple</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/hardware">Hardware</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/fedora">Fedora</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2018/12/12/kubecon-2018-day-2-keynote/">KubeCon 2018 Day 2 Keynote</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2018/12/21/technology-short-take-108/">Technology Short Take 108</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2018%2f12%2f19%2frunning-fedora-on-my-mac-pro%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2018%2f12%2f19%2frunning-fedora-on-my-mac-pro%2f&text=Running%20Fedora%20on%20my%20Mac%20Pro" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2018%2f12%2f19%2frunning-fedora-on-my-mac-pro%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2018/11/09/technology-short-take-106/">Technology Short Take 106</a> <span class="post-date-list">99 May 9099</span></li><li><a href="/2017/01/18/apple-mbp-wifi-fedora/">Enabling an Apple MBP Wireless Adapter with Fedora 25</a> <span class="post-date-list">189 May 181818</span></li><li><a href="/2018/10/05/technology-short-take-105/">Technology Short Take 105</a> <span class="post-date-list">59 May 5055</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
