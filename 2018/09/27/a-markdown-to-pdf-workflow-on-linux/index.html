<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>A Markdown-to-PDF Workflow on Linux - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="A Markdown-to-PDF Workflow on Linux - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="A Markdown-to-PDF Workflow on Linux - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2018/09/27/a-markdown-to-pdf-workflow-on-linux/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">A Markdown-to-PDF Workflow on Linux</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 279 May 272727 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/explanation">Explanation</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;450 words (estimated 3 minutes to read)</span>
  <p>In May of last year I wrote about <a href="/2017/05/08/using-makefile-with-markdown-documents/">using a <code>Makefile</code> with Markdown documents</a>, in which I described how I use <code>make</code> and a <code>Makefile</code> along with CLI tools like <code>multimarkdown</code> (the binary, not the format) and <a href="http://pandoc.org/">Pandoc</a>. At that time, I&rsquo;d figured out how to use combinations of the various CLI tools to create various formats from the source <a href="https://twitter.com/scott_lowe">Markdown</a> document. The one format I hadn&rsquo;t gotten right at that time was PDF. Pandoc <em>can</em> create PDFs, but only if <a href="https://www.latex-project.org/">LaTeX</a> is installed. This article describes a method I found that allows me to create PDFs from my Markdown documents <em>without</em> using LaTeX.</p>
<p>Two tools are involved in this new conversion process: Pandoc, which I&rsquo;ve discussed on this site before; and <a href="https://daringfireball.net/projects/markdown/"><code>wkhtmltopdf</code></a>, a new tool I just recently discovered. Basically, I use Pandoc to go from Markdown (MultiMarkdown, specifically) to HTML, and then use <code>wkhtmltopdf</code> to generate a PDF file from the HTML.</p>
<p>The first step in the process is to use Pandoc to convert from Markdown to HTML, including the use of CSS to include custom formatting. The command looks something like this:</p>
<pre><code>pandoc --from=markdown_mmd+yaml_metadata_block+smart --standalone \
--to=html -V css=/home/slowe/Documents/std-styles.css \
--output=&lt;destination-html-filename&gt; &lt;source-md-filename&gt;
</code></pre>
<p>This generates an HTML document and links it to the specified CSS document for formatting. I <em>could</em> embed the CSS specification in the YAML metadata block at the top of the Markdown document, but then I&rsquo;d lose the ability to create multiple versions of the document with different formatting. The <code>-V css=</code> parameter lets me specify formatting instructions at the time of creating the HTML document.</p>
<p>Once I have the HTML document, then I can create a paginated PDF with this command:</p>
<pre><code>wkhtmltopdf -B 25mm -T 25mm -L 25mm -R 25mm \
-q -s Letter &lt;source-html-filename&gt; &lt;destination-pdf-filename&gt;
</code></pre>
<p>This will create a paginated PDF, based on US Letter paper size, with 25mm margins all the way around.</p>
<p>Putting these together into a <code>make</code> workflow, I can do something like this:</p>
<pre tabindex="0"><code>PD = /usr/local/bin/pandoc
PDFLAGS = --from=markdown_mmd+yaml_metadata_block+smart --standalone
WK = /usr/bin/wkhtmltopdf
WKFLAGS = -B 25mm -T 25mm -L 25mm -R 25mm -q -s Letter
CSS ?= /home/slowe/Documents/std-styles.css

%.md.pdf: %.md
        $(PD) $(PDFLAGS) --to=html -V css=$(CSS) $&lt; | $(WK) $(WKFLAGS) - $@
</code></pre><p>With this in place, all I have to do is type <code>make filename.md.pdf</code>. Make will use <code>pandoc</code> to convert from Markdown to HTML, then pipe those results to <code>wkhtmltopdf</code> to create a paginated PDF. The beauty of defining the stylesheet to use as a variable is that I can override it on the command line if desired:</p>
<pre><code>make CSS=/path/to/alternate/styles.css filename.md.pdf
</code></pre>
<p>This makes it super-easy to create PDFs from source Markdown documents.</p>
<p>Have suggestions for improvement? I&rsquo;m always open to learn more&mdash;feel free to <a href="https://twitter.com/scott_lowe">hit me on Twitter</a>.</p>

  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/linux">Linux</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/cli">CLI</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/markdown">Markdown</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/fedora">Fedora</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/html">HTML</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2018/09/13/running-gcloud-cli-in-a-docker-container/">Running the gcloud CLI in a Docker Container</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2018/09/28/setting-up-the-kubernetes-aws-cloud-provider/">Setting up the Kubernetes AWS Cloud Provider</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2018%2f09%2f27%2fa-markdown-to-pdf-workflow-on-linux%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2018%2f09%2f27%2fa-markdown-to-pdf-workflow-on-linux%2f&text=A%20Markdown-to-PDF%20Workflow%20on%20Linux" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2018%2f09%2f27%2fa-markdown-to-pdf-workflow-on-linux%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2017/03/07/linux-migration-creating-presentations/">The Linux Migration: Creating Presentations</a> <span class="post-date-list">79 May 7077</span></li><li><a href="/2018/05/18/posts-from-the-past-may-2018/">Posts from the Past, May 2018</a> <span class="post-date-list">219 May 212121</span></li><li><a href="/2018/05/15/manually-installing-firefox-60-on-fedora-27/">Manually Installing Firefox 60 on Fedora 27</a> <span class="post-date-list">159 May 151515</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
