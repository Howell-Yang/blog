<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Using EncFS with Dropbox and BoxCryptor - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="Using EncFS with Dropbox and BoxCryptor - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="Using EncFS with Dropbox and BoxCryptor - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2012/11/23/using-encfs-with-dropbox-and-boxcryptor/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">Using EncFS with Dropbox and BoxCryptor</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 239 May 232323 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/tutorial">Tutorial</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;1175 words (estimated 6 minutes to read)</span>
  <p>Lots of folks like using <a href="http://www.dropbox.com/">Dropbox</a>, the ubiquitous store-and-sync cloud storage service; I am among them. However, concerns over the privacy and security of my data have kept me from using Dropbox for some projects. To help address that, I looked around to find an open, interoperable way of adding an extra layer of encryption onto my data. What I found is described in this post, and it involves using the open source EncFS and OSXFUSE projects along with an application from <a href="http://www.boxcryptor.com/">BoxCryptor</a> to provide real-time, client-side AES-256 encryption.</p>
<h2 id="background">Background</h2>
<p>First, some background why I went down this path. Of all the various cloud-based services out there, I&rsquo;m not sure there is a service that I rely upon more than Dropbox. The Dropbox team has done a great job of creating an almost seamlessly integrated product that makes it much easier to keep your files accessible across locations and devices.</p>
<p>Of course, Dropbox is not without its flaws, and security and privacy are considered among the prime concerns. Dropbox states they use <em>server-side encryption</em> to protect your data on the Amazon S3 infrastructure, but Dropbox also controls those server-side encryption keys. Many individuals, myself among them, would prefer <em>client-side</em> encryption with control over our own encryption keys.</p>
<p>So, a fair number of companies have sprung up offering ways to help fix this. One of these is BoxCryptor, who offers an application for Windows, Mac, iOS, and Android that performs <em>client-side</em> encryption. From the Mac OS X perspective, BoxCryptor&rsquo;s solution is, as far as I know, built on top of some fundamental building blocks:</p>
<ul>
<li>
<p>The open source <a href="http://osxfuse.github.com/">OSXFUSE project</a>, which is a port of FUSE for Mac OS X</p>
</li>
<li>
<p>A Mac port of the open source EncFS FUSE filesystem</p>
</li>
</ul>
<p>I would imagine that ports of these components for other operating systems are used in their other platforms, but I don&rsquo;t know this for certain. Regardless, it&rsquo;s possible to use BoxCryptor&rsquo;s application to get client-side encryption across a variety of platforms. For those who want a quick, easy, simple solution, my recommendation is to use BoxCryptor. However, if you want a bit more flexibility, then using the individual components can give you the same effect. I chose to use the individual components, more for my own understanding than anything else, and that&rsquo;s what is described in this post.</p>
<h2 id="what-youll-need">What You&rsquo;ll Need</h2>
<p>This post was written from the perspective of getting this solution running on Mac OS X; if you&rsquo;re using a different operating system, the specifics will quite naturally be different (although the broad concepts are still applicable).</p>
<p>There are four main components you&rsquo;ll need:</p>
<ul>
<li>
<p>OSXFUSE: This is a port of FUSE to OS X, and is one of a couple of successors to the now-defunct MacFUSE project. OSXFUSE is available to download <a href="https://github.com/osxfuse/osxfuse/downloads">here</a>.</p>
</li>
<li>
<p>Macfusion: Macfusion is a GUI to help simplify and automate the mounting of filesystems. While it&rsquo;s not strictly necessary, it does make things a lot easier. Macfusion can be downloaded <a href="http://macfusionapp.org/">here</a>.</p>
</li>
<li>
<p>EncFS: You&rsquo;ll need a version of EncFS for Mac OS X. There are a variety of ways to get it; I used an installer actually made available by BoxCryptor <a href="http://blog.boxcryptor.com/encfs-174-installer-for-mac-os-x-available">here</a>.</p>
</li>
<li>
<p>EncFS plugin for Macfusion: This is what enables Macfusion to mount or unmount EncFS filesystems, and is actually included in the EncFS installer above. You can also download the plugin <a href="https://thenakedman.wordpress.com/encfs/">here</a>.</p>
</li>
</ul>
<h2 id="setting-things-up">Setting Things Up</h2>
<p>Once you have all the components you need, then you&rsquo;re ready to start installing.</p>
<ol>
<li>
<p>First, install OSXFUSE. When installing OSXFUSE, be sure to select to install the MacFUSE Compatibility Layer. The OSXFUSE installer recommends rebooting after the installation, but I waited until I&rsquo;d finished installing all the components.</p>
</li>
<li>
<p>Once OSXFUSE is installed, install Macfusion. Macfusion is distributed as a ZIP file; simply unzip the file and move it to the location of your choice. I installed it to /Applications.</p>
</li>
<li>
<p>Next, run the EncFS installer. During the installation, select to install <strong>only</strong> EncFS and the EncFS plugin for Macfusion. Do not install any of the other components. I rebooted here.</p>
</li>
<li>
<p>You&rsquo;ll need both a mount point as well as a directory to store the raw, encrypted data. Since the raw, encrypted data is intended to be synchronized via Dropbox, you&rsquo;ll want to create the encrypted directory in the Dropbox hierarchy. I chose to use <code>~/Dropbox/Secure</code>. For the mount point, I chose to use <code>~/.Secure</code>. You can obviously modify both of these directories to better suit your own needs or preferences.</p>
</li>
<li>
<p>Once you have all the components installed and the mount point and encrypted directories created, you&rsquo;re ready to actually create the encrypted filesystem. Run the command <code>encfs ~/Dropbox/Secure ~/.Secure</code>. The <code>encfs</code> program will run through some questions; select &ldquo;x&rdquo; for Expert mode and configure it according to the guidelines described in <a href="https://boxcryptor.desk.com/customer/portal/articles/565934-can-boxcryptor-mount-encrypted-volumes-created-with-encfs-">this support article</a>. When prompted for a passphrase, be sure to enter an appropriately complex passphrase&mdash;and make sure you remember it (you&rsquo;ll need it later).</p>
</li>
<li>
<p>When <code>encfs</code> finishes running, it will mount an encrypted volume on your desktop. It will have an odd name, but you won&rsquo;t be able to change it. Go ahead and eject (unmount) this volume; we&rsquo;ll remount it again shortly using Macfusion. Note that you might see some Dropbox activity here.</p>
</li>
<li>
<p>Launch Macfusion, then re-add the encrypted filesystem created in step 5; you&rsquo;ll need to supply the same passphrase you entered earlier. Here in Macfusion you&rsquo;ll be able to specify a name for the encrypted filesystem and supply a custom icon as well. Mount the encrypted filesystem to be sure that everything is working as expected.</p>
</li>
</ol>
<p>That&rsquo;s it&mdash;any files you now copy into the encrypted filesystem&mdash;which is represented by an external drive on your Desktop&mdash;will be encrypted using AES-256 and then synchronized to Dropbox. Cool, huh?</p>
<h2 id="adding-another-computer">Adding Another Computer</h2>
<p>I have two Macs in my office (my 13&quot; MacBook Pro and my Mac Pro), so I had to repeat the process on the second Mac so that it could read the encrypted files. If you have more than one computer, you&rsquo;ll need to do the same. Simply go through steps 1 through 5. In step 5, though, it will only prompt for the passphrase. You can even skip steps 5 and 6 to go straight to 7. As long as you have the passphrase for the encrypted filesystem, adding access for additional Dropbox-linked computers should be a piece of cake.</p>
<h2 id="adding-access-from-ios">Adding Access from iOS</h2>
<p>This is where BoxCryptor comes back into play again. Install the BoxCryptor app onto your device, then link it to your Dropbox account and select the directory within Dropbox where the raw, encrypted data is found. As long as you followed the configuration guidelines <a href="https://boxcryptor.desk.com/customer/portal/articles/565934-can-boxcryptor-mount-encrypted-volumes-created-with-encfs-">here</a>, BoxCryptor should be able to decrypt the encrypted filesystem created with EncFS.</p>
<p>Following these instructions, you&rsquo;ll gain a way to add AES-256 encryption to your Dropbox files (or a subset of your Dropbox files) while still maintaining access to those files from just about any location across a variety of devices.</p>
<p>If anyone has any questions or clarifications about what I&rsquo;ve posted here, please speak up in the comments below. All courteous comments are welcome!</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/encryption">Encryption</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/macos">macOS</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/oss">OSS</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/storage">Storage</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/interoperability">Interoperability</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2012/11/12/libvirt-ovs-integration-revisited/">Libvirt-OVS Integration Revisited</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2012/11/25/using-puppet-for-account-management/">Using Puppet for Account Management</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2012%2f11%2f23%2fusing-encfs-with-dropbox-and-boxcryptor%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2012%2f11%2f23%2fusing-encfs-with-dropbox-and-boxcryptor%2f&text=Using%20EncFS%20with%20Dropbox%20and%20BoxCryptor" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2012%2f11%2f23%2fusing-encfs-with-dropbox-and-boxcryptor%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2011/11/21/some-oss-with-my-mac-part-2-unison/">Some OSS with my Mac, Part 2: Unison</a> <span class="post-date-list">219 May 212121</span></li><li><a href="/2007/06/28/nfs-help/">NFS Help</a> <span class="post-date-list">289 May 282828</span></li><li><a href="/2005/12/13/application-specific-vpns/">Application-Specific VPNs</a> <span class="post-date-list">139 May 131313</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
