<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>OpenStack Summit 2013: Building HA OpenStack with Puppet in 20 Minutes - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</title>

  
  <meta name="author" content="Howell Yang">
  <meta property="og:site_name" content="Scott&#39;s Weblog">
  
  <meta property="og:description" content="OpenStack Summit 2013: Building HA OpenStack with Puppet in 20 Minutes - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  <meta property="og:title" content="OpenStack Summit 2013: Building HA OpenStack with Puppet in 20 Minutes - Howell Yang&#39;s Weblog - 我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。">
  
  <meta property="og:type" content="article">
  <meta name="keywords" content="Cloud, Containers, Kubernetes, K8s, Docker, CNI, CRI-O, OCI, Linux, CLI, Networking, AWS, Security, DevOps">

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  
  <link rel="canonical" href="https://www.howellyang.com/2013/04/15/openstack-summit-2013-building-ha-openstack-with-puppet-in-20-minutes/">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  </head>
<body class="theme-base-0d">
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="/public/img/orbits-thumb.gif" alt="Orbits" width="128" height="128" /></p>
    <p>Original, technical content centered around cloud computing, Kubernetes, Linux, and networking</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">Home</a>
    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Site Archives</a>
    <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
    <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
  </nav>

  <div class="sidebar-item">
    <p>
      <a href="https://github.com/howellyang"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/None"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/in/None"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://feeds.scottlowe.org/slowe/content/feed/"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2005-2022. All rights reserved.</p>
  </div>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Howell Yang&#39;s Weblog</a>
            <small>我是杨豪，专注于深度学习模型的训练、剪枝、量化、部署以及工程效率优化。欢迎来到我的博客。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
<div class="post">
  <h1 class="post-title">OpenStack Summit 2013: Building HA OpenStack with Puppet in 20 Minutes</h1>
  <span class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>&#160;Published on 159 May 151515 &middot;
    <i class="fa fa-folder-open-o" aria-hidden="true"></i>&#160;Filed in <a href="/categories/liveblog">Liveblog</a> &middot;
    <i class="fa fa-pencil" aria-hidden="true"></i>&#160;492 words (estimated 3 minutes to read)</span>
  <p>This is a liveblog of a session on using Puppet to build a highly available (HA) installation of OpenStack. The presenter is Boris Renski of Mirantis.</p>
<p>Boris believes that you need to know many things in order to successfully create the build architecture for an OpenStack deployment:</p>
<ul>
<li>Linux</li>
<li>Networking</li>
<li>Virtualization</li>
<li>Python</li>
<li>Ruby</li>
<li>Puppet</li>
<li>Cobbler (or Razor)</li>
<li>mCollective/Salt</li>
</ul>
<p>Boris introduces Fuel, which is an automation library for OpenStack (that is supposedly easy enough for a goat to use&mdash;a play on Mirantis&rsquo; geographical location and the Borat movies).</p>
<p>Fuel essentially includes the following items:</p>
<ul>
<li>
<p>An OpenStack reference architecture with HA</p>
</li>
<li>
<p>Puppet manifests for deploying OpenStack</p>
</li>
<li>
<p>Cobbler-based bare metal provisioning</p>
</li>
<li>
<p>OpenStack packages</p>
</li>
<li>
<p>Support for CentOS, RHEL, and Ubuntu</p>
</li>
<li>
<p>Support for OpenStack Essex, Folsom, and (in May) Grizzly</p>
</li>
<li>
<p>A detailed configuration guide</p>
</li>
</ul>
<p>Fuel supports a number of different deployment configurations: single node (pretty straightforward, much like DevStack); multi-node (including compact Swift and standalone Swift); and multi-node HA (with compact and standalone Swift and Quantum elements). &ldquo;Swift compact&rdquo; is for when Swift will be used only as back-end storage for VMs. &ldquo;Quantum compact&rdquo; is running Quantum on the controller node, even with high availability.</p>
<p>Fuel was specifically created in the form of a library so that users could easily modify and adopt the scripts to fit their particular OpenStack deployment. This gives users more flexibility when using Fuel to deploy OpenStack.</p>
<p>For the HA architecture:</p>
<ul>
<li>
<p>They use HAProxy for most of the OpenStack services</p>
</li>
<li>
<p>For the message queue, they use an active/active RabbitMQ cluster</p>
</li>
<li>
<p>For the database, they use an active/active Galera MySQL cluster (this forces a minimum of four physical nodes)</p>
</li>
<li>
<p>The architecture uses <code>keepalived</code> for VIP (virtual IP) management</p>
</li>
</ul>
<p>The overall process for deploying OpenStack with Fuel goes like this:</p>
<ol>
<li>
<p>Build the Fuel &ldquo;master node,&rdquo; which runs Cobbler and Puppet master</p>
</li>
<li>
<p>Enter hardware info into Cobbler</p>
</li>
<li>
<p>Cobbler installs the base OS (CentOS, RHEL, Ubuntu)</p>
</li>
<li>
<p>Puppet picks up the node and installs/configures OpenStack</p>
</li>
</ol>
<p>Next, Boris goes into a more light-hearted section on how he taught a goat to use Fuel. For us humans, this means the &ldquo;Fuel portal,&rdquo; which provides step-by-step instructions on using Fuel. They (Mirantis) also created &ldquo;Fuel Web,&rdquo; which is an easy GUI for Fuel. A private beta for Fuel Web is starting today.</p>
<p>Boris now turns the stage over to Roman, who shows a live demo of using Fuel to turn up a 2-node OpenStack deployment. Overall, Fuel looks like a very interesting and useful tool.</p>
<p>Looking ahead, what&rsquo;s on the Fuel roadmap? Roman wants to add screens for the management of disks and NICs, which don&rsquo;t exist in Fuel Web today. There&rsquo;s also no support for Cinder in the web UI today, which is another item they&rsquo;d like to add in future releases. They are also considering some level of monitoring and performance metrics for the OpenStack environments deployed using Fuel. Finally, they want to extend Fuel to help with OpenStack upgrades as well.</p>
<p>Fuel is available for download at <a href="http://fuel.mirantis.com">http://fuel.mirantis.com</a>.</p>


  <h3>Metadata and Navigation</h3>
  <span class="post-meta">
  <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/automation">Automation</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/openstack">OpenStack</a> <i class="fa fa-tag" aria-hidden="true"></i>&#160;<a href="/tags/puppet">Puppet</a> 

  <br />
  <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous Post: <a href="https://www.howellyang.com/2013/04/15/openstack-summit-2013-considerations-for-building-a-private-cloud-folsom-update/">OpenStack Summit 2013: Considerations for Building a Private Cloud, Folsom Update</a>
  
  <br />
   <i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Next Post: <a href="https://www.howellyang.com/2013/04/16/network-overlays-vs-network-virtualization/">Network Overlays vs. Network Virtualization</a>
  </span>

  <span class="post-sharing">
  <p>Be social and share this post!<br />

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.howellyang.com%2f2013%2f04%2f15%2fopenstack-summit-2013-building-ha-openstack-with-puppet-in-20-minutes%2f" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.howellyang.com%2f2013%2f04%2f15%2fopenstack-summit-2013-building-ha-openstack-with-puppet-in-20-minutes%2f&text=OpenStack%20Summit%202013%3a%20Building%20HA%20OpenStack%20with%20Puppet%20in%2020%20Minutes" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fwww.howellyang.com%2f2013%2f04%2f15%2fopenstack-summit-2013-building-ha-openstack-with-puppet-in-20-minutes%2f" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p>
  </span>
</div>

<div class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
  <li><a href="/2013/04/08/technology-short-take-31/">Technology Short Take #31</a> <span class="post-date-list">89 May 8088</span></li><li><a href="/2013/02/04/technology-short-take-29/">Technology Short Take #29</a> <span class="post-date-list">49 May 4044</span></li><li><a href="/2012/12/06/technology-short-take-27/">Technology Short Take #27</a> <span class="post-date-list">69 May 6066</span></li>
  </ul>
</div>      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
